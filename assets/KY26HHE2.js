import{B as li,X as ai,C as at,a as tl,L as nl,N as rl,b as sl,c as il,_ as ol}from"./BN534iEa.js";import{c as P}from"./S8RxIg95.js";import{o as L,c as F,a as m,b as V,u as M,d as A,_ as Ft,e as ci,f as ll,m as al,g as cl,h as dl,r as Me,i as ul,n as fl,j as hl,k as Cr,l as di,p as pe,q as Kr,F as rn,s as tr,t as Rn,v as pl,x as qt,y as ml,z as gl,A as yl,B as xl,w as nr,C as bl}from"./CyLUJPQa.js";import{_ as kl}from"./DJk1azLE.js";import"./CCk4sOCF.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=P("BoldIcon",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=P("BookOpenIcon",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=P("BriefcaseIcon",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=P("CalendarDaysIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=P("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=P("CreditCardIcon",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=P("FlaskConicalIcon",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=P("Heading1Icon",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=P("Heading2Icon",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=P("HouseIcon",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=P("ItalicIcon",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=P("ListOrderedIcon",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=P("ListTreeIcon",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=P("ListIcon",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=P("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=P("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=P("ShapesIcon",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=P("SquareMenuIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 8h10",key:"1jw688"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=P("SquarePercentIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=P("StrikethroughIcon",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=P("TableIcon",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=P("TrophyIcon",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=P("UserCheckIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=P("UserCogIcon",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=P("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=P("VoicemailIcon",[["circle",{cx:"6",cy:"12",r:"4",key:"1ehtga"}],["circle",{cx:"18",cy:"12",r:"4",key:"4vafl8"}],["line",{x1:"6",x2:"18",y1:"16",y2:"16",key:"pmt8us"}]]),ql={class:"relative"},Jl={class:"absolute inset-y-0 start-0 flex items-center pointer-events-none z-20 ps-3.5"},Kl={__name:"DsSearchInput",setup(r){return(e,t)=>(L(),F("div",ql,[m("div",Jl,[V(M(ui),{class:"shrink-0 size-4 text-gray-400 dark:text-white/60"})]),t[0]||(t[0]=m("input",{type:"text",class:"py-2 ps-10 pe-16 block w-full bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder:text-neutral-400 dark:focus:ring-neutral-600",placeholder:"Search"},null,-1))]))}},Ul={class:"hs-dropdown [--trigger:hover] relative inline-flex"},Gl={id:"hs-dropdown-hover-event",type:"button",class:"hs-dropdown-toggle flex justify-center items-center size-9 rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-800 dark:focus:bg-neutral-800","aria-haspopup":"menu","aria-expanded":"false","aria-label":"Dropdown"},Yl={class:"hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-60 bg-white shadow-md rounded-lg border border-gray-200 mt-2 dark:bg-neutral-800 dark:border dark:border-neutral-700 dark:divide-neutral-700 after:h-4 after:absolute after:-bottom-4 after:start-0 after:w-full before:h-4 before:absolute before:-top-4 before:start-0 before:w-full z-[100]",role:"menu","aria-orientation":"vertical","aria-labelledby":"hs-dropdown-hover-event"},Zl={class:"p-1 space-y-0.5"},Xl={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},Ql={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},ea={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},ta={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},na={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},ra={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},sa={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},ia={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},fi={__name:"ClassesOptions",setup(r){return(e,t)=>(L(),F("div",Ul,[m("button",Gl,[V(M(Bl),{class:"flex-none size-4 text-gray-600 dark:text-neutral-500"})]),m("div",Yl,[m("div",Zl,[m("a",Xl,[V(M(Pl),{class:"shrink-0 size-4"}),t[0]||(t[0]=A(" Classroom "))]),m("a",Ql,[V(M(_l),{class:"shrink-0 size-4"}),t[1]||(t[1]=A(" Attendance "))]),m("a",ea,[V(M(Dl),{class:"shrink-0 size-4"}),t[2]||(t[2]=A(" Course Outline "))]),m("a",ta,[V(M(vl),{class:"shrink-0 size-4"}),t[3]||(t[3]=A(" Activities "))]),m("a",na,[V(M(zl),{class:"shrink-0 size-4"}),t[4]||(t[4]=A(" Grade Criteria "))]),m("a",ra,[V(M(Fl),{class:"shrink-0 size-4"}),t[5]||(t[5]=A(" Leaderboards "))]),m("a",sa,[V(M(li),{class:"shrink-0 size-4"}),t[6]||(t[6]=A(" Settings "))]),m("a",ia,[V(M(Wl),{class:"shrink-0 size-4"}),t[7]||(t[7]=A(" Recordings "))])])])]))}},oa={},la={class:"bg-white border shadow-sm rounded-lg dark:bg-neutral-900 dark:border-neutral-700 dark:shadow-neutral-700/70"},aa={class:"p-4 md:p-5"},ca={class:"flex items-center justify-between"};function da(r,e){const t=fi;return L(),F("div",la,[m("div",aa,[m("span",ca,[e[0]||(e[0]=m("span",{class:"text-gray-900 text-md font-medium text-center dark:text-neutral-300"}," Section 1A ",-1)),V(t)]),e[1]||(e[1]=ci('<ul class="min-w-full flex flex-col divide-y divide-gray-200 dark:divide-neutral-700"><li class="inline-flex flex-col xl:flex-row xl:items-center xl:justify-between gap-1 xl:gap-3 py-3"><span class="text-sm font-medium text-gray-800 dark:text-neutral-800">Subject:</span><span class="text-sm text-gray-500 xl:text-right truncate dark:text-neutral-200">Computer Architecture 2</span></li><li class="inline-flex flex-col xl:flex-row xl:items-center xl:justify-between gap-1 xl:gap-3 py-3"><span class="text-sm font-medium text-gray-800 dark:text-neutral-800">Instructor/s:</span><span class="text-sm text-gray-500 xl:text-right truncate dark:text-neutral-200">Kylie J. Montenegro</span></li><li class="inline-flex flex-col xl:flex-row xl:justify-between gap-1 xl:gap-3 py-3"><span class="text-sm font-medium text-gray-800 dark:text-neutral-800">Schedule:</span><span class="text-sm text-gray-500 xl:text-right truncate dark:text-neutral-200"> 06:00 AM - 12:00 PM<br> Mon, Tue, Wed, Thu, Fri, Sat </span></li><li class="inline-flex flex-col xl:flex-row xl:items-center xl:justify-between gap-1 xl:gap-3 py-3"><span class="text-sm font-medium text-gray-800 dark:text-neutral-800">Term:</span><span class="text-sm text-gray-500 xl:text-right truncate dark:text-neutral-200">Midterm</span></li></ul>',1))])])}const ua=Ft(oa,[["render",da]]),fa={},ha={class:"flex flex-col"},pa={class:"-m-1.5 overflow-x-auto"},ma={class:"p-1.5 min-w-full inline-block align-middle"},ga={class:"overflow-hidden"},ya={class:"min-w-full divide-y divide-gray-200 dark:divide-neutral-700"},xa={class:"divide-y divide-gray-200 dark:divide-neutral-700"},ba={class:"px-6 py-4 whitespace-nowrap text-end text-sm font-medium"},ka={class:"px-6 py-4 whitespace-nowrap text-end text-sm font-medium"},Va={class:"px-6 py-4 whitespace-nowrap text-end text-sm font-medium"},wa={class:"px-6 py-4 whitespace-nowrap text-end text-sm font-medium"},Ca={class:"px-6 py-4 whitespace-nowrap text-end text-sm font-medium"},Sa={class:"px-6 py-4 whitespace-nowrap text-end text-sm font-medium"},Ma={class:"px-6 py-4 whitespace-nowrap text-end text-sm font-medium"};function va(r,e){const t=fi;return L(),F("div",ha,[m("div",pa,[m("div",ma,[m("div",ga,[m("table",ya,[e[35]||(e[35]=m("thead",null,[m("tr",null,[m("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500"}," Section"),m("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500"}," Subject"),m("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500"}," Instructor/s"),m("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500"}," Schedule"),m("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500"}," Term"),m("th",{scope:"col",class:"px-6 py-3 text-end text-xs font-medium text-gray-500 uppercase dark:text-neutral-500"}," Action")])],-1)),m("tbody",xa,[m("tr",null,[e[0]||(e[0]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200"}," Section 1A",-1)),e[1]||(e[1]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Computer Architecture 2",-1)),e[2]||(e[2]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Kylie J. Montenegro",-1)),e[3]||(e[3]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"},[A(" 06:00 AM - 12:00 PM"),m("br"),A(" Mon, Tue, Wed, Thu, Fri, Sat ")],-1)),e[4]||(e[4]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Midterm",-1)),m("td",ba,[V(t)])]),m("tr",null,[e[5]||(e[5]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200"}," Section 1A",-1)),e[6]||(e[6]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Computer Architecture 2",-1)),e[7]||(e[7]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Kylie J. Montenegro",-1)),e[8]||(e[8]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"},[A(" 06:00 AM - 12:00 PM"),m("br"),A(" Mon, Tue, Wed, Thu, Fri, Sat ")],-1)),e[9]||(e[9]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Midterm",-1)),m("td",ka,[V(t)])]),m("tr",null,[e[10]||(e[10]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200"}," Section 1A",-1)),e[11]||(e[11]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Computer Architecture 2",-1)),e[12]||(e[12]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Kylie J. Montenegro",-1)),e[13]||(e[13]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"},[A(" 06:00 AM - 12:00 PM"),m("br"),A(" Mon, Tue, Wed, Thu, Fri, Sat ")],-1)),e[14]||(e[14]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Midterm",-1)),m("td",Va,[V(t)])]),m("tr",null,[e[15]||(e[15]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200"}," Section 1A",-1)),e[16]||(e[16]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Computer Architecture 2",-1)),e[17]||(e[17]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Kylie J. Montenegro",-1)),e[18]||(e[18]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"},[A(" 06:00 AM - 12:00 PM"),m("br"),A(" Mon, Tue, Wed, Thu, Fri, Sat ")],-1)),e[19]||(e[19]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Midterm",-1)),m("td",wa,[V(t)])]),m("tr",null,[e[20]||(e[20]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200"}," Section 1A",-1)),e[21]||(e[21]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Computer Architecture 2",-1)),e[22]||(e[22]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Kylie J. Montenegro",-1)),e[23]||(e[23]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"},[A(" 06:00 AM - 12:00 PM"),m("br"),A(" Mon, Tue, Wed, Thu, Fri, Sat ")],-1)),e[24]||(e[24]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Midterm",-1)),m("td",Ca,[V(t)])]),m("tr",null,[e[25]||(e[25]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200"}," Section 1A",-1)),e[26]||(e[26]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Computer Architecture 2",-1)),e[27]||(e[27]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Kylie J. Montenegro",-1)),e[28]||(e[28]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"},[A(" 06:00 AM - 12:00 PM"),m("br"),A(" Mon, Tue, Wed, Thu, Fri, Sat ")],-1)),e[29]||(e[29]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Midterm",-1)),m("td",Sa,[V(t)])]),m("tr",null,[e[30]||(e[30]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200"}," Section 1A",-1)),e[31]||(e[31]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Computer Architecture 2",-1)),e[32]||(e[32]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Kylie J. Montenegro",-1)),e[33]||(e[33]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"},[A(" 06:00 AM - 12:00 PM"),m("br"),A(" Mon, Tue, Wed, Thu, Fri, Sat ")],-1)),e[34]||(e[34]=m("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200"}," Midterm",-1)),m("td",Ma,[V(t)])])])])])])])])}const Ta=Ft(fa,[["render",va]]);function J(r){this.content=r}J.prototype={constructor:J,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,s=n.find(r),i=n.content.slice();return s==-1?i.push(t||r,e):(i[s+1]=e,t&&(i[s]=t)),new J(i)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new J(t)},addToStart:function(r,e){return new J([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new J(t)},addBefore:function(r,e,t){var n=this.remove(e),s=n.content.slice(),i=n.find(r);return s.splice(i==-1?s.length:i,0,e,t),new J(s)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=J.from(r),r.size?new J(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=J.from(r),r.size?new J(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=J.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};J.from=function(r){if(r instanceof J)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new J(e)};function hi(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let s=r.child(n),i=e.child(n);if(s==i){t+=s.nodeSize;continue}if(!s.sameMarkup(i))return t;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)t++;return t}if(s.content.size||i.content.size){let o=hi(s.content,i.content,t+1);if(o!=null)return o}t+=s.nodeSize}}function pi(r,e,t,n){for(let s=r.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:t,b:n};let o=r.child(--s),l=e.child(--i),a=o.nodeSize;if(o==l){t-=a,n-=a;continue}if(!o.sameMarkup(l))return{a:t,b:n};if(o.isText&&o.text!=l.text){let c=0,d=Math.min(o.text.length,l.text.length);for(;c<d&&o.text[o.text.length-c-1]==l.text[l.text.length-c-1];)c++,t--,n--;return{a:t,b:n}}if(o.content.size||l.content.size){let c=pi(o.content,l.content,t-1,n-1);if(c)return c}t-=a,n-=a}}class b{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,s=0,i){for(let o=0,l=0;l<t;o++){let a=this.content[o],c=l+a.nodeSize;if(c>e&&n(a,s+l,i||null,o)!==!1&&a.content.size){let d=l+1;a.nodesBetween(Math.max(0,e-d),Math.min(a.content.size,t-d),n,s+d)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,s){let i="",o=!0;return this.nodesBetween(e,t,(l,a)=>{let c=l.isText?l.text.slice(Math.max(e,a)-a,t-a):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&n&&(o?o=!1:i+=n),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(s[s.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new b(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],s=0;if(t>e)for(let i=0,o=0;o<t;i++){let l=this.content[i],a=o+l.nodeSize;a>e&&((o<e||a>t)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),n.push(l),s+=l.nodeSize),o=a}return new b(n,s)}cutByIndex(e,t){return e==t?b.empty:e==0&&t==this.content.length?this:new b(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let s=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return s[e]=t,new b(s,i)}addToStart(e){return new b([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new b(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let s=this.content[t];e(s,n,t),n+=s.nodeSize}}findDiffStart(e,t=0){return hi(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return pi(this,e,t,n)}findIndex(e,t=-1){if(e==0)return Jt(0,e);if(e==this.size)return Jt(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let i=this.child(n),o=s+i.nodeSize;if(o>=e)return o==e||t>0?Jt(n+1,o):Jt(n,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return b.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new b(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return b.empty;let t,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(t||(t=e.slice(0,s)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new b(t||e,n)}static from(e){if(!e)return b.empty;if(e instanceof b)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new b([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}b.empty=new b([],0);const Pn={index:0,offset:0};function Jt(r,e){return Pn.index=r,Pn.offset=e,Pn}function sn(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!sn(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!sn(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let I=class rr{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&sn(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=n.create(t.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return rr.none;if(e instanceof rr)return[e];let t=e.slice();return t.sort((n,s)=>n.type.rank-s.type.rank),t}};I.none=[];class on extends Error{}class k{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=gi(this.content,e+this.openStart,t);return n&&new k(n,this.openStart,this.openEnd)}removeBetween(e,t){return new k(mi(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return k.empty;let n=t.openStart||0,s=t.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new k(b.fromJSON(e,t.content),n,s)}static maxOpen(e,t=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)s++;return new k(e,n,s)}}k.empty=new k(b.empty,0,0);function mi(r,e,t){let{index:n,offset:s}=r.findIndex(e),i=r.maybeChild(n),{index:o,offset:l}=r.findIndex(t);if(s==e||i.isText){if(l!=t&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(n,i.copy(mi(i.content,e-s-1,t-s-1)))}function gi(r,e,t,n){let{index:s,offset:i}=r.findIndex(e),o=r.maybeChild(s);if(i==e||o.isText)return r.cut(0,e).append(t).append(r.cut(e));let l=gi(o.content,e-i-1,t);return l&&r.replaceChild(s,o.copy(l))}function Oa(r,e,t){if(t.openStart>r.depth)throw new on("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new on("Inconsistent open depths");return yi(r,e,t,0)}function yi(r,e,t,n){let s=r.index(n),i=r.node(n);if(s==e.index(n)&&n<r.depth-t.openStart){let o=yi(r,e,t,n+1);return i.copy(i.content.replaceChild(s,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let o=r.parent,l=o.content;return Ze(o,l.cut(0,r.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Na(t,r);return Ze(i,bi(r,o,l,e,n))}else return Ze(i,ln(r,e,n))}function xi(r,e){if(!e.type.compatibleContent(r.type))throw new on("Cannot join "+e.type.name+" onto "+r.type.name)}function sr(r,e,t){let n=r.node(t);return xi(n,e.node(t)),n}function Ye(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function Ot(r,e,t,n){let s=(e||r).node(t),i=0,o=e?e.index(t):s.childCount;r&&(i=r.index(t),r.depth>t?i++:r.textOffset&&(Ye(r.nodeAfter,n),i++));for(let l=i;l<o;l++)Ye(s.child(l),n);e&&e.depth==t&&e.textOffset&&Ye(e.nodeBefore,n)}function Ze(r,e){return r.type.checkContent(e),r.copy(e)}function bi(r,e,t,n,s){let i=r.depth>s&&sr(r,e,s+1),o=n.depth>s&&sr(t,n,s+1),l=[];return Ot(null,r,s,l),i&&o&&e.index(s)==t.index(s)?(xi(i,o),Ye(Ze(i,bi(r,e,t,n,s+1)),l)):(i&&Ye(Ze(i,ln(r,e,s+1)),l),Ot(e,t,s,l),o&&Ye(Ze(o,ln(t,n,s+1)),l)),Ot(n,null,s,l),new b(l)}function ln(r,e,t){let n=[];if(Ot(null,r,t,n),r.depth>t){let s=sr(r,e,t+1);Ye(Ze(s,ln(r,e,t+1)),n)}return Ot(e,null,t,n),new b(n)}function Na(r,e){let t=e.depth-r.openStart,s=e.node(t).copy(r.content);for(let i=t-1;i>=0;i--)s=e.node(i).copy(b.from(s));return{start:s.resolveNoCache(r.openStart+t),end:s.resolveNoCache(s.content.size-r.openEnd-t)}}class Dt{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(t);return n?e.child(t).cut(n):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return I.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),s=e.maybeChild(t);if(!n){let l=n;n=s,s=l}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new an(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],s=0,i=t;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(i),c=i-a;if(n.push(o,l,s+a),!c||(o=o.child(l),o.isText))break;i=c-1,s+=a+1}return new Dt(t,n,i)}static resolveCached(e,t){let n=Ur.get(e);if(n)for(let i=0;i<n.elts.length;i++){let o=n.elts[i];if(o.pos==t)return o}else Ur.set(e,n=new Aa);let s=n.elts[n.i]=Dt.resolve(e,t);return n.i=(n.i+1)%Ea,s}}class Aa{constructor(){this.elts=[],this.i=0}}const Ea=12,Ur=new WeakMap;class an{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Da=Object.create(null);let Xe=class ir{constructor(e,t,n,s=I.none){this.type=e,this.attrs=t,this.marks=s,this.content=n||b.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,s=0){this.content.nodesBetween(e,t,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,s){return this.content.textBetween(e,t,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&sn(this.attrs,t||e.defaultAttrs||Da)&&I.sameSet(this.marks,n||I.none)}copy(e=null){return e==this.content?this:new ir(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ir(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return k.empty;let s=this.resolve(e),i=this.resolve(t),o=n?0:s.sharedDepth(t),l=s.start(o),c=s.node(o).content.cut(s.pos-l,i.pos-l);return new k(c,s.depth-o,i.depth-o)}replace(e,t,n){return Oa(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let s=this.content.child(t-1);return{node:s,index:t-1,offset:n-s.nodeSize}}resolve(e){return Dt.resolveCached(this,e)}resolveNoCache(e){return Dt.resolve(this,e)}rangeHasMark(e,t,n){let s=!1;return t>e&&this.nodesBetween(e,t,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ki(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=b.empty,s=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,s,i),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let a=s;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(e,t,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=I.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!I.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let s=b.fromJSON(e,t.content),i=e.nodeType(t.type).create(t.attrs,s,n);return i.type.checkAttrs(i.attrs),i}};Xe.prototype.text=void 0;class cn extends Xe{constructor(e,t,n,s){if(super(e,t,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ki(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new cn(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new cn(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ki(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class nt{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Ia(e,t);if(n.next==null)return nt.empty;let s=Vi(n);n.next&&n.err("Unexpected trailing text");let i=Fa($a(s));return _a(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let s=this;for(let i=t;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let s=[this];function i(o,l){let a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return b.from(l.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:u}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(u)==-1){s.push(u);let f=i(u,l.concat(d));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:a}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!s.type||a.validEnd)&&(n.push({match:l.contentMatch,type:l,via:s}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&t(n.next[s].next)}return t(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}nt.empty=new nt(!0);class Ia{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Vi(r){let e=[];do e.push(Ra(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Ra(r){let e=[];do e.push(Pa(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Pa(r){let e=La(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=Ba(r,e);else break;return e}function Gr(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function Ba(r,e){let t=Gr(r),n=t;return r.eat(",")&&(r.next!="}"?n=Gr(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function za(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let s=[];for(let i in t){let o=t[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&r.err("No node type or group '"+e+"' found"),s}function La(r){if(r.eat("(")){let e=Vi(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=za(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function $a(r){let e=[[]];return s(i(r,0),t()),e;function t(){return e.push([])-1}function n(o,l,a){let c={term:a,to:l};return e[o].push(c),c}function s(o,l){o.forEach(a=>a.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((a,c)=>a.concat(i(c,l)),[]);if(o.type=="seq")for(let a=0;;a++){let c=i(o.exprs[a],l);if(a==o.exprs.length-1)return c;s(c,l=t())}else if(o.type=="star"){let a=t();return n(l,a),s(i(o.expr,a),a),[n(a)]}else if(o.type=="plus"){let a=t();return s(i(o.expr,l),a),s(i(o.expr,a),a),[n(a)]}else{if(o.type=="opt")return[n(l)].concat(i(o.expr,l));if(o.type=="range"){let a=l;for(let c=0;c<o.min;c++){let d=t();s(i(o.expr,a),d),a=d}if(o.max==-1)s(i(o.expr,a),a);else for(let c=o.min;c<o.max;c++){let d=t();n(a,d),s(i(o.expr,a),d),a=d}return[n(a)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function wi(r,e){return e-r}function Yr(r,e){let t=[];return n(e),t.sort(wi);function n(s){let i=r[s];if(i.length==1&&!i[0].term)return n(i[0].to);t.push(s);for(let o=0;o<i.length;o++){let{term:l,to:a}=i[o];!l&&t.indexOf(a)==-1&&n(a)}}}function Fa(r){let e=Object.create(null);return t(Yr(r,0));function t(n){let s=[];n.forEach(o=>{r[o].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let d=0;d<s.length;d++)s[d][0]==l&&(c=s[d][1]);Yr(r,a).forEach(d=>{c||s.push([l,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let i=e[n.join(",")]=new nt(n.indexOf(r.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(wi);i.next.push({type:s[o][0],next:e[l.join(",")]||t(l)})}return i}}function _a(r,e){for(let t=0,n=[r];t<n.length;t++){let s=n[t],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:a,next:c}=s.next[l];o.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),n.indexOf(c)==-1&&n.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ci(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function Si(r,e){let t=Object.create(null);for(let n in r){let s=e&&e[n];if(s===void 0){let i=r[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=s}return t}function Mi(r,e,t,n){for(let s in e)if(!(s in r))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in r){let i=r[s];i.validate&&i.validate(e[s])}}function vi(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new ja(r,n,e[n]);return t}let Zr=class Ti{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=vi(e,n.attrs),this.defaultAttrs=Ci(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==nt.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Si(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Xe(this,this.computeAttrs(e),b.from(t),I.setFrom(n))}createChecked(e=null,t,n){return t=b.from(t),this.checkContent(t),new Xe(this,this.computeAttrs(e),t,I.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=b.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let s=this.contentMatch.matchFragment(t),i=s&&s.fillBefore(b.empty,!0);return i?new Xe(this,e,t.append(i),I.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Mi(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:I.none:e}static compile(e,t){let n=Object.create(null);e.forEach((i,o)=>n[i]=new Ti(i,t,o));let s=t.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function Ha(r,e,t){let n=t.split("|");return s=>{let i=s===null?"null":typeof s;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${i}`)}}class ja{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?Ha(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Vn{constructor(e,t,n,s){this.name=e,this.rank=t,this.schema=n,this.spec=s,this.attrs=vi(e,s.attrs),this.excluded=null;let i=Ci(this.attrs);this.instance=i?new I(this,i):null}create(e=null){return!e&&this.instance?this.instance:new I(this,Si(this.attrs,e))}static compile(e,t){let n=Object.create(null),s=0;return e.forEach((i,o)=>n[i]=new Vn(i,s++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Mi(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Oi{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=J.from(e.nodes),t.marks=J.from(e.marks||{}),this.nodes=Zr.compile(this.spec.nodes,this),this.marks=Vn.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=nt.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?Xr(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:Xr(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Zr){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,s)}text(e,t){let n=this.nodes.text;return new cn(n,n.defaultAttrs,e,I.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Xe.fromJSON(this,e)}markFromJSON(e){return I.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Xr(r,e){let t=[];for(let n=0;n<e.length;n++){let s=e[n],i=r.marks[s],o=i;if(i)t.push(i);else for(let l in r.marks){let a=r.marks[l];(s=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(s)>-1)&&t.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function Wa(r){return r.tag!=null}function qa(r){return r.style!=null}class Be{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(s=>{if(Wa(s))this.tags.push(s);else if(qa(s)){let i=/[^=]*/.exec(s.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let n=new es(this,t,!1);return n.addAll(e,I.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new es(this,t,!0);return n.addAll(e,I.none,t.from,t.to),k.maxOpen(n.finish())}matchTag(e,t,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Ua(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||t.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,t,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let t=[];function n(s){let i=s.priority==null?50:s.priority,o=0;for(;o<t.length;o++){let l=t[o];if((l.priority==null?50:l.priority)<i)break}t.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{n(o=ts(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{n(o=ts(o)),o.node||o.ignore||o.mark||(o.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Be(e,Be.schemaRules(e)))}}const Ni={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ja={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ai={ol:!0,ul:!0},dn=1,un=2,Nt=4;function Qr(r,e,t){return e!=null?(e?dn:0)|(e==="full"?un:0):r&&r.whitespace=="pre"?dn|un:t&~Nt}class Kt{constructor(e,t,n,s,i,o){this.type=e,this.attrs=t,this.marks=n,this.solid=s,this.options=o,this.content=[],this.activeMarks=I.none,this.match=i||(o&Nt?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(b.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dn)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let t=b.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(b.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Ni.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class es{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let s=t.topNode,i,o=Qr(null,t.preserveWhitespace,0)|(n?Nt:0);s?i=new Kt(s.type,s.attrs,I.none,!0,t.topMatch||s.type.contentMatch,o):n?i=new Kt(null,null,I.none,!0,null,o):i=new Kt(e.schema.topNodeType,null,I.none,!0,null,o),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,s=this.top;if(s.options&un||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s.options&dn)s.options&un?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=s.content[s.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let s=e.nodeName.toLowerCase(),i;Ai.hasOwnProperty(s)&&this.parser.normalizeLists&&Ka(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:Ja.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let l,a=this.top,c=this.needsBlock;if(Ni.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),l=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);return}let d=o&&o.skip?t:this.readStyles(e,t);d&&this.addAll(e,d),l&&this.sync(a),this.needsBlock=c}else{let l=this.readStyles(e,t);l&&this.addElementByRule(e,o,l,o.consuming===!1?i:void 0)}}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=n.getPropertyValue(i);if(o)for(let l=void 0;;){let a=this.parser.matchStyle(i,o,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?t=t.filter(c=>!a.clearMark(c)):t=t.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return t}addElementByRule(e,t,n,s){let i,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),n)||this.leafFallback(e,n);else{let a=this.enter(o,t.attrs||null,n,t.preserveWhitespace);a&&(i=!0,n=a)}else{let a=this.parser.schema.marks[t.mark];n=n.concat(a.create(t.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,n));else{let a=e;typeof t.contentElement=="string"?a=e.querySelector(t.contentElement):typeof t.contentElement=="function"?a=t.contentElement(e):t.contentElement&&(a=t.contentElement),this.findAround(e,a,!0),this.addAll(a,n),this.findAround(e,a,!1)}i&&this.sync(l)&&this.open--}addAll(e,t,n,s){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=s==null?null:e.childNodes[s];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,t);this.findAtPoint(e,i)}findPlace(e,t){let n,s;for(let i=this.open;i>=0;i--){let o=this.nodes[i],l=o.findWrapping(e);if(l&&(!n||n.length>l.length)&&(n=l,s=o,!l.length)||o.solid)break}if(!n)return null;this.sync(s);for(let i=0;i<n.length;i++)t=this.enterInner(n[i],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=I.none;for(let o of n.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):ns(o.type,e.type))&&(i=o.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,t,n,s){let i=this.findPlace(e.create(t),n);return i&&(i=this.enterInner(e,t,n,!0,s)),i}enterInner(e,t,n,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=Qr(e,i,o.options);o.options&Nt&&o.content.length==0&&(l|=Nt);let a=I.none;return n=n.filter(c=>(o.type?o.type.allowsMarkType(c.type):ns(c.type,e))?(a=c.addToSet(a),!1):!0),this.nodes.push(new Kt(e,t,a,s,null,l)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),o=(l,a)=>{for(;l>=0;l--){let c=t[l];if(c==""){if(l==t.length-1||l==0)continue;for(;a>=i;a--)if(o(l-1,a))return!0;return!1}else{let d=a>0||a==0&&s?this.nodes[a].type:n&&a>=i?n.node(a-i).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;a--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function Ka(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&Ai.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function Ua(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function ts(r){let e={};for(let t in r)e[t]=r[t];return e}function ns(r,e){let t=e.schema.nodes;for(let n in t){let s=t[n];if(!s.allowsMarkType(r))continue;let i=[],o=l=>{i.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:d}=l.edge(a);if(c==e||i.indexOf(d)<0&&o(d))return!0}};if(o(s.contentMatch))return!0}}class it{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Bn(t).createDocumentFragment());let s=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,a=0;for(;l<i.length&&a<o.marks.length;){let c=o.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(i[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<i.length;)s=i.pop()[1];for(;a<o.marks.length;){let c=o.marks[a++],d=this.serializeMark(c,o.isInline,t);d&&(i.push([c,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:s}=Qt(Bn(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let s=this.marks[e.type.name];return s&&Qt(Bn(n),s(e,t),null,e.attrs)}static renderSpec(e,t,n=null,s){return Qt(e,t,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new it(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=rs(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return rs(e.marks)}}function rs(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function Bn(r){return r.document||window.document}const ss=new WeakMap;function Ga(r){let e=ss.get(r);return e===void 0&&ss.set(r,e=Ya(r)),e}function Ya(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)t(n[s]);else for(let s in n)t(n[s])}return t(r),e}function Qt(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=Ga(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(t=s.slice(0,o),s=s.slice(o+1));let l,a=t?r.createElementNS(t,s):r.createElement(s),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let u in c)if(c[u]!=null){let f=u.indexOf(" ");f>0?a.setAttributeNS(u.slice(0,f),u.slice(f+1),c[u]):a.setAttribute(u,c[u])}}for(let u=d;u<e.length;u++){let f=e[u];if(f===0){if(u<e.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:p}=Qt(r,f,t,n);if(a.appendChild(h),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:a,contentDOM:l}}const Ei=65535,Di=Math.pow(2,16);function Za(r,e){return r+e*Di}function is(r){return r&Ei}function Xa(r){return(r-(r&Ei))/Di}const Ii=1,Ri=2,en=4,Pi=8;class or{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Pi)>0}get deletedBefore(){return(this.delInfo&(Ii|en))>0}get deletedAfter(){return(this.delInfo&(Ri|en))>0}get deletedAcross(){return(this.delInfo&en)>0}}class ae{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ae.empty)return ae.empty}recover(e){let t=0,n=is(e);if(!this.inverted)for(let s=0;s<n;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+t+Xa(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?s:0);if(a>e)break;let c=this.ranges[l+i],d=this.ranges[l+o],u=a+c;if(e<=u){let f=c?e==a?-1:e==u?1:t:t,h=a+s+(f<0?0:d);if(n)return h;let p=e==(t<0?a:u)?null:Za(l/3,e-a),g=e==a?Ri:e==u?Ii:en;return(t<0?e!=a:e!=u)&&(g|=Pi),new or(h,g,p)}s+=d-c}return n?e+s:new or(e+s,0,null)}touches(e,t){let n=0,s=is(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?n:0);if(a>e)break;let c=this.ranges[l+i],d=a+c;if(e<=d&&l==s*3)return!0;n+=this.ranges[l+o]-c}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),a=o+(this.inverted?0:i),c=this.ranges[s+t],d=this.ranges[s+n];e(l,l+c,a,a+d),i+=d-c}}invert(){return new ae(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ae.empty:new ae(e<0?[0,-e,0]:[0,0,e])}}ae.empty=new ae([]);class ht{constructor(e=[],t,n=0,s=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=s}slice(e=0,t=this.maps.length){return new ht(this.maps,this.mirror,e,t)}copy(){return new ht(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let s=e.getMirror(t);this.appendMap(e.maps[t],s!=null&&s<t?n+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e.maps[t].invert(),s!=null&&s>t?n-s-1:void 0)}}invert(){let e=new ht;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],l=o.mapResult(e,t);if(l.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,e=this.maps[a].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return n?e:new or(e,s,null)}}const zn=Object.create(null);class Z{getMap(){return ae.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=zn[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in zn)throw new RangeError("Duplicate use of step JSON ID "+e);return zn[e]=t,t.prototype.jsonID=e,t}}class ${constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new $(e,null)}static fail(e){return new $(null,e)}static fromReplace(e,t,n,s){try{return $.ok(e.replace(t,n,s))}catch(i){if(i instanceof on)return $.fail(i.message);throw i}}}function Sr(r,e,t){let n=[];for(let s=0;s<r.childCount;s++){let i=r.child(s);i.content.size&&(i=i.copy(Sr(i.content,e,i))),i.isInline&&(i=e(i,t,s)),n.push(i)}return b.fromArray(n)}class Ie extends Z{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new k(Sr(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),t.openStart,t.openEnd);return $.fromReplace(e,this.from,this.to,i)}invert(){return new be(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Ie(t.pos,n.pos,this.mark)}merge(e){return e instanceof Ie&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ie(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ie(t.from,t.to,e.markFromJSON(t.mark))}}Z.jsonID("addMark",Ie);class be extends Z{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new k(Sr(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return $.fromReplace(e,this.from,this.to,n)}invert(){return new Ie(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new be(t.pos,n.pos,this.mark)}merge(e){return e instanceof be&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new be(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new be(t.from,t.to,e.markFromJSON(t.mark))}}Z.jsonID("removeMark",be);class Re extends Z{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return $.fromReplace(e,this.pos,this.pos+1,new k(b.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(n))return new Re(this.pos,t.marks[s]);return new Re(this.pos,this.mark)}}return new gt(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Re(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Re(t.pos,e.markFromJSON(t.mark))}}Z.jsonID("addNodeMark",Re);class gt extends Z{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return $.fromReplace(e,this.pos,this.pos+1,new k(b.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Re(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new gt(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new gt(t.pos,e.markFromJSON(t.mark))}}Z.jsonID("removeNodeMark",gt);class H extends Z{constructor(e,t,n,s=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=s}apply(e){return this.structure&&lr(e,this.from,this.to)?$.fail("Structure replace would overwrite content"):$.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ae([this.from,this.to-this.from,this.slice.size])}invert(e){return new H(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new H(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof H)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?k.empty:new k(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new H(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?k.empty:new k(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new H(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new H(t.from,t.to,k.fromJSON(e,t.slice),!!t.structure)}}Z.jsonID("replace",H);class j extends Z{constructor(e,t,n,s,i,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(lr(e,this.from,this.gapFrom)||lr(e,this.gapTo,this.to)))return $.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return $.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?$.fromReplace(e,this.from,this.to,n):$.fail("Content does not fit in gap")}getMap(){return new ae([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new j(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||s<t.pos||i>n.pos?null:new j(t.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new j(t.from,t.to,t.gapFrom,t.gapTo,k.fromJSON(e,t.slice),t.insert,!!t.structure)}}Z.jsonID("replaceAround",j);function lr(r,e,t){let n=r.resolve(e),s=t-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function Qa(r,e,t,n){let s=[],i=[],o,l;r.doc.nodesBetween(e,t,(a,c,d)=>{if(!a.isInline)return;let u=a.marks;if(!n.isInSet(u)&&d.type.allowsMarkType(n.type)){let f=Math.max(c,e),h=Math.min(c+a.nodeSize,t),p=n.addToSet(u);for(let g=0;g<u.length;g++)u[g].isInSet(p)||(o&&o.to==f&&o.mark.eq(u[g])?o.to=h:s.push(o=new be(f,h,u[g])));l&&l.to==f?l.to=h:i.push(l=new Ie(f,h,n))}}),s.forEach(a=>r.step(a)),i.forEach(a=>r.step(a))}function ec(r,e,t,n){let s=[],i=0;r.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;i++;let a=null;if(n instanceof Vn){let c=o.marks,d;for(;d=n.isInSet(c);)(a||(a=[])).push(d),c=d.removeFromSet(c)}else n?n.isInSet(o.marks)&&(a=[n]):a=o.marks;if(a&&a.length){let c=Math.min(l+o.nodeSize,t);for(let d=0;d<a.length;d++){let u=a[d],f;for(let h=0;h<s.length;h++){let p=s[h];p.step==i-1&&u.eq(s[h].style)&&(f=p)}f?(f.to=c,f.step=i):s.push({style:u,from:Math.max(l,e),to:c,step:i})}}}),s.forEach(o=>r.step(new be(o.from,o.to,o.style)))}function Mr(r,e,t,n=t.contentMatch,s=!0){let i=r.doc.nodeAt(e),o=[],l=e+1;for(let a=0;a<i.childCount;a++){let c=i.child(a),d=l+c.nodeSize,u=n.matchType(c.type);if(!u)o.push(new H(l,d,k.empty));else{n=u;for(let f=0;f<c.marks.length;f++)t.allowsMarkType(c.marks[f].type)||r.step(new be(l,d,c.marks[f]));if(s&&c.isText&&t.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new k(b.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new H(l+f.index,l+f.index+f[0].length,p))}}l=d}if(!n.validEnd){let a=n.fillBefore(b.empty,!0);r.replace(l,l,new k(a,0,0))}for(let a=o.length-1;a>=0;a--)r.step(o[a])}function tc(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function wt(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let s=r.$from.node(n),i=r.$from.index(n),o=r.$to.indexAfter(n);if(n<r.depth&&s.canReplace(i,o,t))return n;if(n==0||s.type.spec.isolating||!tc(s,i,o))break}return null}function nc(r,e,t){let{$from:n,$to:s,depth:i}=e,o=n.before(i+1),l=s.after(i+1),a=o,c=l,d=b.empty,u=0;for(let p=i,g=!1;p>t;p--)g||n.index(p)>0?(g=!0,d=b.from(n.node(p).copy(d)),u++):a--;let f=b.empty,h=0;for(let p=i,g=!1;p>t;p--)g||s.after(p+1)<s.end(p)?(g=!0,f=b.from(s.node(p).copy(f)),h++):c++;r.step(new j(a,c,o,l,new k(d.append(f),u,h),d.size-u,!0))}function vr(r,e,t=null,n=r){let s=rc(r,e),i=s&&sc(n,e);return i?s.map(ls).concat({type:e,attrs:t}).concat(i.map(ls)):null}function ls(r){return{type:r,attrs:null}}function rc(r,e){let{parent:t,startIndex:n,endIndex:s}=r,i=t.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return t.canReplaceWith(n,s,o)?i:null}function sc(r,e){let{parent:t,startIndex:n,endIndex:s}=r,i=t.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let c=n;a&&c<s;c++)a=a.matchType(t.child(c).type);return!a||!a.validEnd?null:o}function ic(r,e,t){let n=b.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let l=t[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=b.from(t[o].type.create(t[o].attrs,n))}let s=e.start,i=e.end;r.step(new j(s,i,s,i,new k(n,0,0),t.length,!0))}function oc(r,e,t,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=r.steps.length;r.doc.nodesBetween(e,t,(o,l)=>{let a=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(n,a)&&lc(r.doc,r.mapping.slice(i).map(l),n)){let c=null;if(n.schema.linebreakReplacement){let h=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&zi(r,o,l,i),Mr(r,r.mapping.slice(i).map(l,1),n,void 0,c===null);let d=r.mapping.slice(i),u=d.map(l,1),f=d.map(l+o.nodeSize,1);return r.step(new j(u,f,u+1,f-1,new k(b.from(n.create(a,null,o.marks)),0,0),1,!0)),c===!0&&Bi(r,o,l,i),!1}})}function Bi(r,e,t,n){e.forEach((s,i)=>{if(s.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(s.text);){let a=r.mapping.slice(n).map(t+1+i+o.index);r.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function zi(r,e,t,n){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=r.mapping.slice(n).map(t+1+i);r.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function lc(r,e,t){let n=r.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,t)}function ac(r,e,t,n,s){let i=r.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);let o=t.create(n,null,s||i.marks);if(i.isLeaf)return r.replaceWith(e,e+i.nodeSize,o);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new j(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new k(b.from(o),0,0),1,!0))}function ve(r,e,t=1,n){let s=r.resolve(e),i=s.depth-t,o=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,d=t-2;c>i;c--,d--){let u=s.node(c),f=s.index(c);if(u.type.spec.isolating)return!1;let h=u.content.cutByIndex(f,u.childCount),p=n&&n[d+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=n&&n[d]||u;if(!u.canReplace(f+1,u.childCount)||!g.type.validContent(h))return!1}let l=s.indexAfter(i),a=n&&n[0];return s.node(i).canReplaceWith(l,l,a?a.type:s.node(i+1).type)}function cc(r,e,t=1,n){let s=r.doc.resolve(e),i=b.empty,o=b.empty;for(let l=s.depth,a=s.depth-t,c=t-1;l>a;l--,c--){i=b.from(s.node(l).copy(i));let d=n&&n[c];o=b.from(d?d.type.create(d.attrs,o):s.node(l).copy(o))}r.step(new H(e,e,new k(i.append(o),t,t),!0))}function He(r,e){let t=r.resolve(e),n=t.index();return Li(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function dc(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==n?r.type.schema.nodes.text:i.type;if(t=t.matchType(o),!t||!r.type.allowsMarks(i.marks))return!1}return t.validEnd}function Li(r,e){return!!(r&&e&&!r.isLeaf&&dc(r,e))}function wn(r,e,t=-1){let n=r.resolve(e);for(let s=n.depth;;s--){let i,o,l=n.index(s);if(s==n.depth?(i=n.nodeBefore,o=n.nodeAfter):t>0?(i=n.node(s+1),l++,o=n.node(s).maybeChild(l)):(i=n.node(s).maybeChild(l-1),o=n.node(s+1)),i&&!i.isTextblock&&Li(i,o)&&n.node(s).canReplace(l,l+1))return e;if(s==0)break;e=t<0?n.before(s):n.after(s)}}function uc(r,e,t){let n=null,{linebreakReplacement:s}=r.doc.type.schema,i=r.doc.resolve(e-t),o=i.node().type;if(s&&o.inlineContent){let d=o.whitespace=="pre",u=!!o.contentMatch.matchType(s);d&&!u?n=!1:!d&&u&&(n=!0)}let l=r.steps.length;if(n===!1){let d=r.doc.resolve(e+t);zi(r,d.node(),d.before(),l)}o.inlineContent&&Mr(r,e+t-1,o,i.node().contentMatchAt(i.index()),n==null);let a=r.mapping.slice(l),c=a.map(e-t);if(r.step(new H(c,a.map(e+t,-1),k.empty,!0)),n===!0){let d=r.doc.resolve(c);Bi(r,d.node(),d.before(),r.steps.length)}return r}function fc(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,t))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,t))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function $i(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let s=t.content;for(let i=0;i<t.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(t.openStart==0&&t.size?2:1);i++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,a=n.index(o)+(l>0?1:0),c=n.node(o),d=!1;if(i==1)d=c.canReplace(a,a,s);else{let u=c.contentMatchAt(a).findWrapping(s.firstChild.type);d=u&&c.canReplaceWith(a,a,u[0])}if(d)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function Cn(r,e,t=e,n=k.empty){if(e==t&&!n.size)return null;let s=r.resolve(e),i=r.resolve(t);return Fi(s,i,n)?new H(e,t,n):new hc(s,i,n).fit()}function Fi(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class hc{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=b.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=b.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,o=n.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let a=new k(i,o,l);return e>-1?new j(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new H(n.pos,s.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=Ln(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],d,u=null;if(t==1&&(o?c.matchType(o.type)||(u=c.fillBefore(b.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:l,parent:i,inject:u};if(t==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:i,wrap:d};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,s=Ln(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new k(e,t+1,Math.max(n,s.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,s=Ln(e,t);if(s.childCount<=1&&t>0){let i=e.size-t<=t+s.size;this.unplaced=new k(Mt(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new k(Mt(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:s,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let o=this.unplaced,l=n?n.content:o.content,a=o.openStart-e,c=0,d=[],{match:u,type:f}=this.frontier[t];if(s){for(let g=0;g<s.childCount;g++)d.push(s.child(g));u=u.matchFragment(s)}let h=l.size+e-(o.content.size-o.openEnd);for(;c<l.childCount;){let g=l.child(c),y=u.matchType(g.type);if(!y)break;c++,(c>1||a==0||g.content.size)&&(u=y,d.push(_i(g.mark(f.allowedMarks(g.marks)),c==1?a:0,c==l.childCount?h:-1)))}let p=c==l.childCount;p||(h=-1),this.placed=vt(this.placed,t,b.from(d)),this.frontier[t].match=u,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=l;g<h;g++){let x=y.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),y=x.content}this.unplaced=p?e==0?k.empty:new k(Mt(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new k(Mt(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!$n(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:s}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=$n(e,t,s,n,i);if(o){for(let l=t-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],d=$n(e,l,c,a,!0);if(!d||d.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=vt(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,t=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=vt(this.placed,this.depth,b.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(b.empty,!0);t.childCount&&(this.placed=vt(this.placed,this.frontier.length,t))}}function Mt(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(Mt(r.firstChild.content,e-1,t)))}function vt(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(vt(r.lastChild.content,e-1,t)))}function Ln(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function _i(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,_i(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(b.empty,!0)))),r.copy(n)}function $n(r,e,t,n,s){let i=r.node(e),o=s?r.indexAfter(e):r.index(e);if(o==i.childCount&&!t.compatibleContent(i.type))return null;let l=n.fillBefore(i.content,!0,o);return l&&!pc(t,i.content,o)?l:null}function pc(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function mc(r){return r.spec.defining||r.spec.definingForContent}function gc(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let s=r.doc.resolve(e),i=r.doc.resolve(t);if(Fi(s,i,n))return r.step(new H(e,t,n));let o=ji(s,r.doc.resolve(t));o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let f=s.depth,h=s.pos-1;f>0;f--,h--){let p=s.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?l=f:s.before(f)==h&&o.splice(1,0,-f)}let a=o.indexOf(l),c=[],d=n.openStart;for(let f=n.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==n.openStart)break;f=p.content}for(let f=d-1;f>=0;f--){let h=c[f],p=mc(h.type);if(p&&!h.sameMarkup(s.node(Math.abs(l)-1)))d=f;else if(p||!h.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let h=(f+d+1)%(n.openStart+1),p=c[h];if(p)for(let g=0;g<o.length;g++){let y=o[(g+a)%o.length],x=!0;y<0&&(x=!1,y=-y);let w=s.node(y-1),N=s.index(y-1);if(w.canReplaceWith(N,N,p.type,p.marks))return r.replace(s.before(y),x?i.after(y):t,new k(Hi(n.content,0,n.openStart,h),h,n.openEnd))}}let u=r.steps.length;for(let f=o.length-1;f>=0&&(r.replace(e,t,n),!(r.steps.length>u));f--){let h=o[f];h<0||(e=s.before(h),t=i.after(h))}}function Hi(r,e,t,n,s){if(e<t){let i=r.firstChild;r=r.replaceChild(0,i.copy(Hi(i.content,e+1,t,n,i)))}if(e>n){let i=s.contentMatchAt(0),o=i.fillBefore(r).append(r);r=o.append(i.matchFragment(o).fillBefore(b.empty,!0))}return r}function yc(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let s=fc(r.doc,e,n.type);s!=null&&(e=t=s)}r.replaceRange(e,t,new k(b.from(n),0,0))}function xc(r,e,t){let n=r.doc.resolve(e),s=r.doc.resolve(t),i=ji(n,s);for(let o=0;o<i.length;o++){let l=i[o],a=o==i.length-1;if(a&&l==0||n.node(l).type.contentMatch.validEnd)return r.delete(n.start(l),s.end(l));if(l>0&&(a||n.node(l-1).canReplace(n.index(l-1),s.indexAfter(l-1))))return r.delete(n.before(l),s.after(l))}for(let o=1;o<=n.depth&&o<=s.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&s.end(o)-t!=s.depth-o&&n.start(o-1)==s.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),s.index(o-1)))return r.delete(n.before(o),t);r.delete(e,t)}function ji(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let s=n;s>=0;s--){let i=r.start(s);if(i<r.pos-(r.depth-s)||e.end(s)>e.pos+(e.depth-s)||r.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==r.depth&&s==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&t.push(s)}return t}class pt extends Z{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return $.fail("No node at attribute step's position");let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let s=t.type.create(n,null,t.marks);return $.fromReplace(e,this.pos,this.pos+1,new k(b.from(s),0,t.isLeaf?0:1))}getMap(){return ae.empty}invert(e){return new pt(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new pt(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pt(t.pos,t.attr,t.value)}}Z.jsonID("attr",pt);class It extends Z{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return $.ok(n)}getMap(){return ae.empty}invert(e){return new It(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new It(t.attr,t.value)}}Z.jsonID("docAttr",It);let yt=class extends Error{};yt=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};yt.prototype=Object.create(Error.prototype);yt.prototype.constructor=yt;yt.prototype.name="TransformError";class bc{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ht}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new yt(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=k.empty){let s=Cn(this.doc,e,t,n);return s&&this.step(s),this}replaceWith(e,t,n){return this.replace(e,t,new k(b.from(n),0,0))}delete(e,t){return this.replace(e,t,k.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return gc(this,e,t,n),this}replaceRangeWith(e,t,n){return yc(this,e,t,n),this}deleteRange(e,t){return xc(this,e,t),this}lift(e,t){return nc(this,e,t),this}join(e,t=1){return uc(this,e,t),this}wrap(e,t){return ic(this,e,t),this}setBlockType(e,t=e,n,s=null){return oc(this,e,t,n,s),this}setNodeMarkup(e,t,n=null,s){return ac(this,e,t,n,s),this}setNodeAttribute(e,t,n){return this.step(new pt(e,t,n)),this}setDocAttribute(e,t){return this.step(new It(e,t)),this}addNodeMark(e,t){return this.step(new Re(e,t)),this}removeNodeMark(e,t){if(!(t instanceof I)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new gt(e,t)),this}split(e,t=1,n){return cc(this,e,t,n),this}addMark(e,t,n){return Qa(this,e,t,n),this}removeMark(e,t,n){return ec(this,e,t,n),this}clearIncompatible(e,t,n){return Mr(this,e,t,n),this}}const Fn=Object.create(null);class T{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new kc(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=k.empty){let n=t.content.lastChild,s=null;for(let l=0;l<t.openEnd;l++)s=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:c}=o[l],d=e.mapping.slice(i);e.replaceRange(d.map(a.pos),d.map(c.pos),l?k.empty:t),l==0&&ds(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],a=e.mapping.slice(n),c=a.map(o.pos),d=a.map(l.pos);i?e.deleteRange(c,d):(e.replaceRangeWith(c,d,t),ds(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let s=e.parent.inlineContent?new v(e):ct(e.node(0),e.parent,e.pos,e.index(),t,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=t<0?ct(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):ct(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new fe(e.node(0))}static atStart(e){return ct(e,e,0,0,1)||new fe(e)}static atEnd(e){return ct(e,e,e.content.size,e.childCount,-1)||new fe(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Fn[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Fn)throw new RangeError("Duplicate use of selection JSON ID "+e);return Fn[e]=t,t.prototype.jsonID=e,t}getBookmark(){return v.between(this.$anchor,this.$head).getBookmark()}}T.prototype.visible=!0;class kc{constructor(e,t){this.$from=e,this.$to=t}}let as=!1;function cs(r){!as&&!r.parent.inlineContent&&(as=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class v extends T{constructor(e,t=e){cs(e),cs(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return T.near(n);let s=e.resolve(t.map(this.anchor));return new v(s.parent.inlineContent?s:n,n)}replace(e,t=k.empty){if(super.replace(e,t),t==k.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof v&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Sn(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new v(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let s=e.resolve(t);return new this(s,n==t?s:e.resolve(n))}static between(e,t,n){let s=e.pos-t.pos;if((!n||s)&&(n=s>=0?1:-1),!t.parent.inlineContent){let i=T.findFrom(t,n,!0)||T.findFrom(t,-n,!0);if(i)t=i.$head;else return T.near(t,n)}return e.parent.inlineContent||(s==0?e=t:(e=(T.findFrom(e,-n,!0)||T.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new v(e,t)}}T.jsonID("text",v);class Sn{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Sn(e.map(this.anchor),e.map(this.head))}resolve(e){return v.between(e.resolve(this.anchor),e.resolve(this.head))}}class S extends T{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:s}=t.mapResult(this.anchor),i=e.resolve(s);return n?T.near(i):new S(i)}content(){return new k(b.from(this.node),0,0)}eq(e){return e instanceof S&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Tr(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new S(e.resolve(t.anchor))}static create(e,t){return new S(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}S.prototype.visible=!1;T.jsonID("node",S);class Tr{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Sn(n,n):new Tr(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&S.isSelectable(n)?new S(t):T.near(t)}}class fe extends T{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=k.empty){if(t==k.empty){e.delete(0,e.doc.content.size);let n=T.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new fe(e)}map(e){return new fe(e)}eq(e){return e instanceof fe}getBookmark(){return Vc}}T.jsonID("all",fe);const Vc={map(){return this},resolve(r){return new fe(r)}};function ct(r,e,t,n,s,i=!1){if(e.inlineContent)return v.create(r,t);for(let o=n-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let l=e.child(o);if(l.isAtom){if(!i&&S.isSelectable(l))return S.create(r,t-(s<0?l.nodeSize:0))}else{let a=ct(r,l,t+s,s<0?l.childCount:0,s,i);if(a)return a}t+=l.nodeSize*s}return null}function ds(r,e,t){let n=r.steps.length-1;if(n<e)return;let s=r.steps[n];if(!(s instanceof H||s instanceof j))return;let i=r.mapping.maps[n],o;i.forEach((l,a,c,d)=>{o==null&&(o=d)}),r.setSelection(T.near(r.doc.resolve(o),t))}const us=1,Ut=2,fs=4;class wc extends bc{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|us)&~Ut,this.storedMarks=null,this}get selectionSet(){return(this.updated&us)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ut,this}ensureMarks(e){return I.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ut)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Ut,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||I.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(t);i=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,s.text(e,i)),this.selection.empty||this.setSelection(T.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=fs,this}get scrolledIntoView(){return(this.updated&fs)>0}}function hs(r,e){return!e||!r?r:r.bind(e)}class Tt{constructor(e,t,n){this.name=e,this.init=hs(t.init,n),this.apply=hs(t.apply,n)}}const Cc=[new Tt("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new Tt("selection",{init(r,e){return r.selection||T.atStart(e.doc)},apply(r){return r.selection}}),new Tt("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new Tt("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class _n{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Cc.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Tt(n.key,n.spec.state,n))})}}class ut{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=s?s[o].n:0,c=s?s[o].state:this,d=a<t.length&&l.spec.appendTransaction.call(l,a?t.slice(a):t,c,n);if(d&&n.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let u=0;u<this.config.plugins.length;u++)s.push(u<o?{state:n,n:t.length}:{state:this,n:0})}t.push(d),n=n.applyInner(d),i=!0}s&&(s[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ut(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new wc(this)}static create(e){let t=new _n(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new ut(t);for(let s=0;s<t.fields.length;s++)n[t.fields[s].name]=t.fields[s].init(e,n);return n}reconfigure(e){let t=new _n(this.schema,e.plugins),n=t.fields,s=new ut(t);for(let i=0;i<n.length;i++){let o=n[i].name;s[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new _n(e.schema,e.plugins),i=new ut(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Xe.fromJSON(e.schema,t.doc);else if(o.name=="selection")i.selection=T.fromJSON(i.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let a=n[l],c=a.spec.state;if(a.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){i[o.name]=c.fromJSON.call(a,e,t[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function Wi(r,e,t){for(let n in r){let s=r[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=Wi(s,e,{})),t[n]=s}return t}class le{constructor(e){this.spec=e,this.props={},e.props&&Wi(e.props,this,this.props),this.key=e.key?e.key.key:qi("plugin")}getState(e){return e[this.key]}}const Hn=Object.create(null);function qi(r){return r in Hn?r+"$"+ ++Hn[r]:(Hn[r]=0,r+"$")}class we{constructor(e="key"){this.key=qi(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const K=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Rt=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let ar=null;const Se=function(r,e,t){let n=ar||(ar=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},Sc=function(){ar=null},rt=function(r,e,t,n){return t&&(ps(r,e,t,n,-1)||ps(r,e,t,n,1))},Mc=/^(img|br|input|textarea|hr)$/i;function ps(r,e,t,n,s){for(;;){if(r==t&&e==n)return!0;if(e==(s<0?0:de(r))){let i=r.parentNode;if(!i||i.nodeType!=1||_t(r)||Mc.test(r.nodeName)||r.contentEditable=="false")return!1;e=K(r)+(s<0?0:1),r=i}else if(r.nodeType==1){if(r=r.childNodes[e+(s<0?-1:0)],r.contentEditable=="false")return!1;e=s<0?de(r):0}else return!1}}function de(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function vc(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=de(r)}else if(r.parentNode&&!_t(r))e=K(r),r=r.parentNode;else return null}}function Tc(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!_t(r))e=K(r)+1,r=r.parentNode;else return null}}function Oc(r,e,t){for(let n=e==0,s=e==de(r);n||s;){if(r==t)return!0;let i=K(r);if(r=r.parentNode,!r)return!1;n=n&&i==0,s=s&&i==de(r)}}function _t(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const Mn=function(r){return r.focusNode&&rt(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function qe(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function Nc(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Ac(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(de(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(de(n.startContainer),n.startOffset)}}}const ke=typeof navigator<"u"?navigator:null,ms=typeof document<"u"?document:null,je=ke&&ke.userAgent||"",cr=/Edge\/(\d+)/.exec(je),Ji=/MSIE \d/.exec(je),dr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(je),ie=!!(Ji||dr||cr),ze=Ji?document.documentMode:dr?+dr[1]:cr?+cr[1]:0,ye=!ie&&/gecko\/(\d+)/i.test(je);ye&&+(/Firefox\/(\d+)/.exec(je)||[0,0])[1];const ur=!ie&&/Chrome\/(\d+)/.exec(je),Y=!!ur,Ki=ur?+ur[1]:0,Q=!ie&&!!ke&&/Apple Computer/.test(ke.vendor),xt=Q&&(/Mobile\/\w+/.test(je)||!!ke&&ke.maxTouchPoints>2),ce=xt||(ke?/Mac/.test(ke.platform):!1),Ec=ke?/Win/.test(ke.platform):!1,me=/Android \d/.test(je),Ht=!!ms&&"webkitFontSmoothing"in ms.documentElement.style,Dc=Ht?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Ic(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Ce(r,e){return typeof r=="number"?r:r[e]}function Rc(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function gs(r,e,t){let n=r.someProp("scrollThreshold")||0,s=r.someProp("scrollMargin")||5,i=r.dom.ownerDocument;for(let o=t||r.dom;o;o=Rt(o)){if(o.nodeType!=1)continue;let l=o,a=l==i.body,c=a?Ic(i):Rc(l),d=0,u=0;if(e.top<c.top+Ce(n,"top")?u=-(c.top-e.top+Ce(s,"top")):e.bottom>c.bottom-Ce(n,"bottom")&&(u=e.bottom-e.top>c.bottom-c.top?e.top+Ce(s,"top")-c.top:e.bottom-c.bottom+Ce(s,"bottom")),e.left<c.left+Ce(n,"left")?d=-(c.left-e.left+Ce(s,"left")):e.right>c.right-Ce(n,"right")&&(d=e.right-c.right+Ce(s,"right")),d||u)if(a)i.defaultView.scrollBy(d,u);else{let f=l.scrollLeft,h=l.scrollTop;u&&(l.scrollTop+=u),d&&(l.scrollLeft+=d);let p=l.scrollLeft-f,g=l.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Pc(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=r.root.elementFromPoint(i,o);if(!l||l==r.dom||!r.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=t-20){n=l,s=a.top;break}}return{refDOM:n,refTop:s,stack:Ui(r.dom)}}function Ui(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=Rt(n));return e}function Bc({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;Gi(t,n==0?0:n-e)}function Gi(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:s,left:i}=r[t];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let ot=null;function zc(r){if(r.setActive)return r.setActive();if(ot)return r.focus(ot);let e=Ui(r);r.focus(ot==null?{get preventScroll(){return ot={preventScroll:!0},!0}}:void 0),ot||(ot=!1,Gi(e,0))}function Yi(r,e){let t,n=2e8,s,i=0,o=e.top,l=e.top,a,c;for(let d=r.firstChild,u=0;d;d=d.nextSibling,u++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=Se(d).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=l){o=Math.max(p.bottom,o),l=Math.min(p.top,l);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<n){t=d,n=g,s=g&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,d.nodeType==1&&g&&(i=u+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=d,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=u+1)}}return!t&&a&&(t=a,s=c,n=0),t&&t.nodeType==3?Lc(t,s):!t||n&&t.nodeType==1?{node:r,offset:i}:Yi(t,s)}function Lc(r,e){let t=r.nodeValue.length,n=document.createRange();for(let s=0;s<t;s++){n.setEnd(r,s+1),n.setStart(r,s);let i=Ne(n,1);if(i.top!=i.bottom&&Or(e,i))return{node:r,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:r,offset:0}}function Or(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function $c(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function Fc(r,e,t){let{node:n,offset:s}=Yi(e,t),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(n,s,i)}function _c(r,e,t,n){let s=-1;for(let i=e,o=!1;i!=r.dom;){let l=r.docView.nearestDesc(i,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!o&&a.left>n.left||a.top>n.top?s=l.posBefore:(!o&&a.right<n.left||a.bottom<n.top)&&(s=l.posAfter),o=!0),!l.contentDOM&&s<0&&!l.node.isText)return(l.node.isBlock?n.top<(a.top+a.bottom)/2:n.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}i=l.dom.parentNode}return s>-1?s:r.docView.posFromDOM(e,t,-1)}function Zi(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),i=s;;){let o=r.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(Or(e,c))return Zi(o,e,c)}}if((i=(i+1)%n)==s)break}return r}function Hc(r,e){let t=r.dom.ownerDocument,n,s=0,i=Ac(t,e.left,e.top);i&&({node:n,offset:s}=i);let o=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),l;if(!o||!r.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=r.dom.getBoundingClientRect();if(!Or(e,c)||(o=Zi(r.dom,e,c),!o))return null}if(Q)for(let c=o;n&&c;c=Rt(c))c.draggable&&(n=void 0);if(o=$c(o,e),n){if(ye&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let d=n.childNodes[s],u;d.nodeName=="IMG"&&(u=d.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&s++}let c;Ht&&s&&n.nodeType==1&&(c=n.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,n==r.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=r.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(l=_c(r,n,s,e))}l==null&&(l=Fc(r,o,e));let a=r.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function ys(r){return r.top<r.bottom||r.left<r.right}function Ne(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(ys(n))return n}return Array.prototype.find.call(t,ys)||r.getBoundingClientRect()}const jc=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Xi(r,e,t){let{node:n,offset:s,atom:i}=r.docView.domFromPos(e,t<0?-1:1),o=Ht||ye;if(n.nodeType==3)if(o&&(jc.test(n.nodeValue)||(t<0?!s:s==n.nodeValue.length))){let a=Ne(Se(n,s,s),t);if(ye&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let c=Ne(Se(n,s-1,s-1),-1);if(c.top==a.top){let d=Ne(Se(n,s,s+1),-1);if(d.top!=a.top)return St(d,d.left<c.left)}}return a}else{let a=s,c=s,d=t<0?1:-1;return t<0&&!s?(c++,d=-1):t>=0&&s==n.nodeValue.length?(a--,d=1):t<0?a--:c++,St(Ne(Se(n,a,c),d),d<0)}if(!r.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(t<0||s==de(n))){let a=n.childNodes[s-1];if(a.nodeType==1)return jn(a.getBoundingClientRect(),!1)}if(i==null&&s<de(n)){let a=n.childNodes[s];if(a.nodeType==1)return jn(a.getBoundingClientRect(),!0)}return jn(n.getBoundingClientRect(),t>=0)}if(i==null&&s&&(t<0||s==de(n))){let a=n.childNodes[s-1],c=a.nodeType==3?Se(a,de(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return St(Ne(c,1),!1)}if(i==null&&s<de(n)){let a=n.childNodes[s];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?Se(a,0,o?0:1):a.nodeType==1?a:null:null;if(c)return St(Ne(c,-1),!0)}return St(Ne(n.nodeType==3?Se(n):n,-t),t>=0)}function St(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function jn(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function Qi(r,e,t){let n=r.state,s=r.root.activeElement;n!=e&&r.updateState(e),s!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),s!=r.dom&&s&&s.focus()}}function Wc(r,e,t){let n=e.selection,s=t=="up"?n.$from:n.$to;return Qi(r,e,()=>{let{node:i}=r.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let l=r.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=Xi(r,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Se(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let d=a[c];if(d.bottom>d.top+1&&(t=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const qc=/[\u0590-\u08ac]/;function Jc(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,o=s==n.parent.content.size,l=r.domSelection();return l?!qc.test(n.parent.textContent)||!l.modify?t=="left"||t=="backward"?i:o:Qi(r,e,()=>{let{focusNode:a,focusOffset:c,anchorNode:d,anchorOffset:u}=r.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",t,"character");let h=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:p,focusOffset:g}=r.domSelectionRange(),y=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&c==g;try{l.collapse(d,u),a&&(a!=d||c!=u)&&l.extend&&l.extend(a,c)}catch{}return f!=null&&(l.caretBidiLevel=f),y}):n.pos==n.start()||n.pos==n.end()}let xs=null,bs=null,ks=!1;function Kc(r,e,t){return xs==e&&bs==t?ks:(xs=e,bs=t,ks=t=="up"||t=="down"?Wc(r,e,t):Jc(r,e,t))}const he=0,Vs=1,Ke=2,Ve=3;class jt{constructor(e,t,n,s){this.parent=e,this.children=t,this.dom=n,this.contentDOM=s,this.dirty=he,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let s=this.children[t];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>K(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!t||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let s=this.children[t],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],l=i+o.size;if(l>e||o instanceof to){s=e-i;break}i=l}if(s)return this.children[n].domFromPos(s-this.children[n].border,t);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof eo&&i.side>=0;n--);if(t<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&t&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,t):{node:this.contentDOM,offset:i?K(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,t):{node:this.contentDOM,offset:i?K(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=n,l=0;;l++){let a=this.children[l],c=o+a.size;if(s==-1&&e<=c){let d=o+a.border;if(e>=d&&t<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,d);e=o;for(let u=l;u>0;u--){let f=this.children[u-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=K(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(c>t||l==this.children.length-1)){t=c;for(let d=l+1;d<this.children.length;d++){let u=this.children[d];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){i=K(u.dom);break}t+=u.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,s=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],g=h+p.size;if(i>h&&o<g)return p.setSelection(e-h-p.border,t-h-p.border,n,s);h=g}let l=this.domFromPos(e,e?-1:1),a=t==e?l:this.domFromPos(t,t?-1:1),c=n.getSelection(),d=!1;if((ye||Q)&&e==t){let{node:f,offset:h}=l;if(f.nodeType==3){if(d=!!(h&&f.nodeValue[h-1]==`
`),d&&h==f.nodeValue.length)for(let p=f,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(l=a={node:g.parentNode,offset:K(g)+1});break}let y=p.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let p=f.childNodes[h-1];d=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(ye&&c.focusNode&&c.focusNode!=a.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(s=!0)}if(!(s||d&&Q)&&rt(l.node,l.offset,c.anchorNode,c.anchorOffset)&&rt(a.node,a.offset,c.focusNode,c.focusOffset))return;let u=!1;if((c.extend||e==t)&&!d){c.collapse(l.node,l.offset);try{e!=t&&c.extend(a.node,a.offset),u=!0}catch{}}if(!u){if(e>t){let h=l;l=a,a=h}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let l=n+i.border,a=o-i.border;if(e>=l&&t<=a){this.dirty=e==n||t==o?Ke:Vs,e==l&&t==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Ve:i.markDirty(e-l,t-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Ke:Ve}n=o}this.dirty=Ke}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?Ke:Vs;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class eo extends jt{constructor(e,t,n,s){let i,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!t.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return this.dirty==he&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Uc extends jt{constructor(e,t,n,s){super(e,[],t,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class st extends jt{constructor(e,t,n,s,i){super(e,[],n,s),this.mark=t,this.spec=i}static create(e,t,n,s){let i=s.nodeViews[t.type.name],o=i&&i(t,s,n);return(!o||!o.dom)&&(o=it.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new st(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ve||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ve&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=he){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=he}}slice(e,t,n){let s=st.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;t<o&&(i=hr(i,t,o,n)),e>0&&(i=hr(i,0,e,n));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Le extends jt{constructor(e,t,n,s,i,o,l,a,c){super(e,[],i,o),this.node=t,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=l}static create(e,t,n,s,i,o){let l=i.nodeViews[t.type.name],a,c=l&&l(t,i,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},n,s),d=c&&c.dom,u=c&&c.contentDOM;if(t.isText){if(!d)d=document.createTextNode(t.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:u}=it.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!u&&!t.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),t.type.spec.draggable&&(d.draggable=!0));let f=d;return d=so(d,n,t),c?a=new Gc(e,t,n,s,d,u||null,f,c,i,o+1):t.isText?new vn(e,t,n,s,d,f,i):new Le(e,t,n,s,d,u||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>b.empty)}return e}matchesNode(e,t,n){return this.dirty==he&&e.eq(this.node)&&fn(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,s=t,i=e.composing?this.localCompositionInfo(e,t):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new Zc(this,o&&o.node,e);ed(this.node,this.innerDeco,(c,d,u)=>{c.spec.marks?a.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!u&&a.syncToMarks(d==this.node.childCount?I.none:this.node.child(d).marks,n,e),a.placeWidget(c,e,s)},(c,d,u,f)=>{a.syncToMarks(c.marks,n,e);let h;a.findNodeMatch(c,d,u,f)||l&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(h=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(c,d,u,h,e)||a.updateNextNode(c,d,u,e,f,s)||a.addNode(c,d,u,e,s),s+=c.nodeSize}),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Ke)&&(o&&this.protectLocalComposition(e,o),no(this.contentDOM,this.children,e),xt&&td(this.dom))}localCompositionInfo(e,t){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof v)||n<t||s>t+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=nd(this.node.content,o,n-t,s-t);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:s}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new Uc(this,i,t,s);e.input.compositionNodes.push(o),this.children=hr(this.children,n,n+s.length,e,o)}update(e,t,n,s){return this.dirty==Ve||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,s),!0)}updateInner(e,t,n,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=he}updateOuterDeco(e){if(fn(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=ro(this.dom,this.nodeDOM,fr(this.outerDeco,this.node,t),fr(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ws(r,e,t,n,s){so(n,e,r);let i=new Le(void 0,r,e,t,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class vn extends Le{constructor(e,t,n,s,i,o,l){super(e,t,n,s,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,s){return this.dirty==Ve||this.dirty!=he&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=he||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=he,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let s=this.node.cut(e,t),i=document.createTextNode(s.text);return new vn(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Ve)}get domAtom(){return!1}isText(e){return this.node.text==e}}class to extends jt{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==he&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Gc extends Le{constructor(e,t,n,s,i,o,l,a,c,d){super(e,t,n,s,i,o,l,c,d),this.spec=a}update(e,t,n,s){if(this.dirty==Ve)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,s){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function no(r,e,t){let n=r.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==r){for(;l!=n;)n=Cs(n),s=!0;n=n.nextSibling}else s=!0,r.insertBefore(l,n);if(o instanceof st){let a=n?n.previousSibling:r.lastChild;no(o.contentDOM,o.children,t),n=a?a.nextSibling:r.firstChild}}for(;n;)n=Cs(n),s=!0;s&&t.trackWrites==r&&(t.trackWrites=null)}const At=function(r){r&&(this.nodeName=r)};At.prototype=Object.create(null);const Ue=[new At];function fr(r,e,t){if(r.length==0)return Ue;let n=t?Ue[0]:new At,s=[n];for(let i=0;i<r.length;i++){let o=r[i].type.attrs;if(o){o.nodeName&&s.push(n=new At(o.nodeName));for(let l in o){let a=o[l];a!=null&&(t&&s.length==1&&s.push(n=new At(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+a:l=="style"?n.style=(n.style?n.style+";":"")+a:l!="nodeName"&&(n[l]=a))}}}return s}function ro(r,e,t,n){if(t==Ue&&n==Ue)return e;let s=e;for(let i=0;i<n.length;i++){let o=n[i],l=t[i];if(i){let a;l&&l.nodeName==o.nodeName&&s!=r&&(a=s.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(s),l=Ue[0]),s=a}Yc(s,l||Ue[0],o)}return s}function Yc(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&r.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&r.classList.add(s[i]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)r.style.removeProperty(s[1])}t.style&&(r.style.cssText+=t.style)}}function so(r,e,t){return ro(r,r,Ue,fr(e,t,r.nodeType!=1))}function fn(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function Cs(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Zc{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Xc(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=he,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=st.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,s,i){let o=this.top.children[s];return o.dirty==Ve&&o.dom==o.contentDOM&&(o.dirty=Ke),o.update(e,t,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=t}}updateNextNode(e,t,n,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Le){let c=this.preMatch.matched.get(a);if(c!=null&&c!=i)return!1;let d=a.dom,u,f=this.isLocked(d)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Ve&&fn(t,a.outerDeco));if(!f&&a.update(e,t,n,s))return this.destroyBetween(this.index,l),a.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(u=this.recreateWrapper(a,e,t,n,s,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=Ke,u.updateChildren(s,o+1),u.dirty=he),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,s,i,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!fn(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=Le.create(this.top,t,n,s,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,t,n,s,i){let o=Le.create(this.top,e,t,n,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new eo(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof st;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof vn)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Q||Y)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new to(this.top,[],n,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Xc(r,e){let t=e,n=t.children.length,s=r.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(n){let c=t.children[n-1];if(c instanceof st)t=c,n=c.children.length;else{l=c,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let a=l.node;if(a){if(a!=r.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function Qc(r,e){return r.type.side-e.type.side}function ed(r,e,t,n){let s=e.locals(r),i=0;if(s.length==0){for(let c=0;c<r.childCount;c++){let d=r.child(c);n(d,s,e.forChild(i,d),c),i+=d.nodeSize}return}let o=0,l=[],a=null;for(let c=0;;){let d,u;for(;o<s.length&&s[o].to==i;){let y=s[o++];y.widget&&(d?(u||(u=[d])).push(y):d=y)}if(d)if(u){u.sort(Qc);for(let y=0;y<u.length;y++)t(u[y],c,!!a)}else t(d,c,!!a);let f,h;if(a)h=-1,f=a,a=null;else if(c<r.childCount)h=c,f=r.child(c++);else break;for(let y=0;y<l.length;y++)l[y].to<=i&&l.splice(y--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let p=i+f.nodeSize;if(f.isText){let y=p;o<s.length&&s[o].from<y&&(y=s[o].from);for(let x=0;x<l.length;x++)l[x].to<y&&(y=l[x].to);y<p&&(a=f.cut(y-i),f=f.cut(0,y-i),p=y,h=-1)}else for(;o<s.length&&s[o].to<p;)o++;let g=f.isInline&&!f.isLeaf?l.filter(y=>!y.inline):l.slice();n(f,g,e.forChild(i,f),h),i=p}}function td(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function nd(r,e,t,n){for(let s=0,i=0;s<r.childCount&&i<=n;){let o=r.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let a=o.text;for(;s<r.childCount;){let c=r.child(s++);if(i+=c.nodeSize,!c.isText)break;a+=c.text}if(i>=t){if(i>=n&&a.slice(n-e.length-l,n-l)==e)return n-e.length;let c=l<n?a.lastIndexOf(e,n-l-1):-1;if(c>=0&&c+e.length+l>=t)return l+c;if(t==n&&a.length>=n+e.length-l&&a.slice(n-l,n-l+e.length)==e)return n}}return-1}function hr(r,e,t,n,s){let i=[];for(let o=0,l=0;o<r.length;o++){let a=r[o],c=l,d=l+=a.size;c>=t||d<=e?i.push(a):(c<e&&i.push(a.slice(0,e-c,n)),s&&(i.push(s),s=void 0),d>t&&i.push(a.slice(t-c,a.size,n)))}return i}function Nr(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let s=r.docView.nearestDesc(t.focusNode),i=s&&s.size==0,o=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let l=n.resolve(o),a,c;if(Mn(t)){for(a=o;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&S.isSelectable(u)&&s.parent&&!(u.isInline&&Oc(t.focusNode,t.focusOffset,s.dom))){let f=s.posBefore;c=new S(o==f?l:n.resolve(f))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let u=o,f=o;for(let h=0;h<t.rangeCount;h++){let p=t.getRangeAt(h);u=Math.min(u,r.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,r.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(u<0)return null;[a,o]=f==r.state.selection.anchor?[f,u]:[u,f],l=n.resolve(o)}else a=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(a<0)return null}let d=n.resolve(a);if(!c){let u=e=="pointer"||r.state.selection.head<l.pos&&!i?1:-1;c=Ar(r,d,l,u)}return c}function io(r){return r.editable?r.hasFocus():lo(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function Te(r,e=!1){let t=r.state.selection;if(oo(r,t),!!io(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Y){let n=r.domSelectionRange(),s=r.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&rt(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)sd(r);else{let{anchor:n,head:s}=t,i,o;Ss&&!(t instanceof v)&&(t.$from.parent.inlineContent||(i=Ms(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=Ms(r,t.to))),r.docView.setSelection(n,s,r.root,e),Ss&&(i&&vs(i),o&&vs(o)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&rd(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const Ss=Q||Y&&Ki<63;function Ms(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),s=n<t.childNodes.length?t.childNodes[n]:null,i=n?t.childNodes[n-1]:null;if(Q&&s&&s.contentEditable=="false")return Wn(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Wn(s);if(i)return Wn(i)}}function Wn(r){return r.contentEditable="true",Q&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function vs(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function rd(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!io(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function sd(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let n=r.cursorWrapper.dom,s=n.nodeName=="IMG";s?t.setStart(n.parentNode,K(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!r.state.selection.visible&&ie&&ze<=11&&(n.disabled=!0,n.disabled=!1)}function oo(r,e){if(e instanceof S){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(Ts(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else Ts(r)}function Ts(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function Ar(r,e,t,n){return r.someProp("createSelectionBetween",s=>s(r,e,t))||v.between(e,t,n)}function Os(r){return r.editable&&!r.hasFocus()?!1:lo(r)}function lo(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function id(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return rt(e.node,e.offset,t.anchorNode,t.anchorOffset)}function pr(r,e){let{$anchor:t,$head:n}=r.selection,s=e>0?t.max(n):t.min(n),i=s.parent.inlineContent?s.depth?r.doc.resolve(e>0?s.after():s.before()):null:s;return i&&T.findFrom(i,e)}function Ae(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function Ns(r,e,t){let n=r.state.selection;if(n instanceof v)if(t.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=r.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Ae(r,new v(n.$anchor,o))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let s=pr(r.state,e);return s&&s instanceof S?Ae(r,s):!1}else if(!(ce&&t.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=r.docView.descAt(l))&&!o.contentDOM?S.isSelectable(i)?Ae(r,new S(e<0?r.state.doc.resolve(s.pos-i.nodeSize):s)):Ht?Ae(r,new v(r.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof S&&n.node.isInline)return Ae(r,new v(e>0?n.$to:n.$from));{let s=pr(r.state,e);return s?Ae(r,s):!1}}}function hn(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Et(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function lt(r,e){return e<0?od(r):ld(r)}function od(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let s,i,o=!1;for(ye&&t.nodeType==1&&n<hn(t)&&Et(t.childNodes[n],-1)&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let l=t.childNodes[n-1];if(Et(l,-1))s=t,i=--n;else if(l.nodeType==3)t=l,n=t.nodeValue.length;else break}}else{if(ao(t))break;{let l=t.previousSibling;for(;l&&Et(l,-1);)s=t.parentNode,i=K(l),l=l.previousSibling;if(l)t=l,n=hn(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}o?mr(r,t,n):s&&mr(r,s,i)}function ld(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let s=hn(t),i,o;for(;;)if(n<s){if(t.nodeType!=1)break;let l=t.childNodes[n];if(Et(l,1))i=t,o=++n;else break}else{if(ao(t))break;{let l=t.nextSibling;for(;l&&Et(l,1);)i=l.parentNode,o=K(l)+1,l=l.nextSibling;if(l)t=l,n=0,s=hn(t);else{if(t=t.parentNode,t==r.dom)break;n=s=0}}}i&&mr(r,i,o)}function ao(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function ad(r,e){for(;r&&e==r.childNodes.length&&!_t(r);)e=K(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function cd(r,e){for(;r&&!e&&!_t(r);)e=K(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function mr(r,e,t){if(e.nodeType!=3){let i,o;(o=ad(e,t))?(e=o,t=0):(i=cd(e,t))&&(e=i,t=i.nodeValue.length)}let n=r.domSelection();if(!n)return;if(Mn(n)){let i=document.createRange();i.setEnd(e,t),i.setStart(e,t),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:s}=r;setTimeout(()=>{r.state==s&&Te(r)},50)}function As(r,e){let t=r.state.doc.resolve(e);if(!(Y||Ec)&&t.parent.inlineContent){let s=r.coordsAtPos(e);if(e>t.start()){let i=r.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<t.end()){let i=r.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function Es(r,e,t){let n=r.state.selection;if(n instanceof v&&!n.empty||t.indexOf("s")>-1||ce&&t.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=pr(r.state,e);if(o&&o instanceof S)return Ae(r,o)}if(!s.parent.inlineContent){let o=e<0?s:i,l=n instanceof fe?T.near(o,e):T.findFrom(o,e);return l?Ae(r,l):!1}return!1}function Ds(r,e){if(!(r.state.selection instanceof v))return!0;let{$head:t,$anchor:n,empty:s}=r.state.selection;if(!t.sameParent(n))return!0;if(!s)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(i&&!i.isText){let o=r.state.tr;return e<0?o.delete(t.pos-i.nodeSize,t.pos):o.delete(t.pos,t.pos+i.nodeSize),r.dispatch(o),!0}return!1}function Is(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function dd(r){if(!Q||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Is(r,n,"true"),setTimeout(()=>Is(r,n,"false"),20)}return!1}function ud(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function fd(r,e){let t=e.keyCode,n=ud(e);if(t==8||ce&&t==72&&n=="c")return Ds(r,-1)||lt(r,-1);if(t==46&&!e.shiftKey||ce&&t==68&&n=="c")return Ds(r,1)||lt(r,1);if(t==13||t==27)return!0;if(t==37||ce&&t==66&&n=="c"){let s=t==37?As(r,r.state.selection.from)=="ltr"?-1:1:-1;return Ns(r,s,n)||lt(r,s)}else if(t==39||ce&&t==70&&n=="c"){let s=t==39?As(r,r.state.selection.from)=="ltr"?1:-1:1;return Ns(r,s,n)||lt(r,s)}else{if(t==38||ce&&t==80&&n=="c")return Es(r,-1,n)||lt(r,-1);if(t==40||ce&&t==78&&n=="c")return dd(r)||Es(r,1,n)||lt(r,1);if(n==(ce?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function co(r,e){r.someProp("transformCopied",h=>{e=h(e,r)});let t=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let h=n.firstChild;t.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let o=r.someProp("clipboardSerializer")||it.fromSchema(r.state.schema),l=go(),a=l.createElement("div");a.appendChild(o.serializeFragment(n,{document:l}));let c=a.firstChild,d,u=0;for(;c&&c.nodeType==1&&(d=mo[c.nodeName.toLowerCase()]);){for(let h=d.length-1;h>=0;h--){let p=l.createElement(d[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),u++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${u?` -${u}`:""} ${JSON.stringify(t)}`);let f=r.someProp("clipboardTextSerializer",h=>h(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function uo(r,e,t,n,s){let i=s.parent.type.spec.code,o,l;if(!t&&!e)return null;let a=e&&(n||i||!t);if(a){if(r.someProp("transformPastedText",f=>{e=f(e,i||n,r)}),i)return e?new k(b.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):k.empty;let u=r.someProp("clipboardTextParser",f=>f(e,s,n,r));if(u)l=u;else{let f=s.marks(),{schema:h}=r.state,p=it.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=o.appendChild(document.createElement("p"));g&&y.appendChild(p.serializeNode(h.text(g,f)))})}}else r.someProp("transformPastedHTML",u=>{t=u(t,r)}),o=gd(t),Ht&&yd(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(l||(l=(r.someProp("clipboardParser")||r.someProp("domParser")||Be.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||d),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!hd.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)l=xd(Rs(l,+d[1],+d[2]),d[4]);else if(l=k.maxOpen(pd(l.content,s),!0),l.openStart||l.openEnd){let u=0,f=0;for(let h=l.content.firstChild;u<l.openStart&&!h.type.spec.isolating;u++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=Rs(l,u,f)}return r.someProp("transformPasted",u=>{l=u(l,r)}),l}const hd=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function pd(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),i,o=[];if(r.forEach(l=>{if(!o)return;let a=s.findWrapping(l.type),c;if(!a)return o=null;if(c=o.length&&i.length&&ho(a,i,l,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=po(o[o.length-1],i.length));let d=fo(l,a);o.push(d),s=s.matchType(d.type),i=a}}),o)return b.from(o)}return r}function fo(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,b.from(r));return r}function ho(r,e,t,n,s){if(s<r.length&&s<e.length&&r[s]==e[s]){let i=ho(r,e,t,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==r.length-1?t.type:r[s+1]))return n.copy(n.content.append(b.from(fo(t,r,s+1))))}}function po(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,po(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(b.empty,!0);return r.copy(t.append(n))}function gr(r,e,t,n,s,i){let o=e<0?r.firstChild:r.lastChild,l=o.content;return r.childCount>1&&(i=0),s<n-1&&(l=gr(l,e,t,n,s+1,i)),s>=t&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(b.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(l))}function Rs(r,e,t){return e<r.openStart&&(r=new k(gr(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new k(gr(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const mo={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ps=null;function go(){return Ps||(Ps=document.implementation.createHTMLDocument("title"))}let qn=null;function md(r){let e=window.trustedTypes;return e?(qn||(qn=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),qn.createHTML(r)):r}function gd(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=go().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),s;if((s=n&&mo[n[1].toLowerCase()])&&(r=s.map(i=>"<"+i+">").join("")+r+s.map(i=>"</"+i+">").reverse().join("")),t.innerHTML=md(r),s)for(let i=0;i<s.length;i++)t=t.querySelector(s[i])||t;return t}function yd(r){let e=r.querySelectorAll(Y?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function xd(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:s,openStart:i,openEnd:o}=r;for(let l=n.length-2;l>=0;l-=2){let a=t.nodes[n[l]];if(!a||a.hasRequiredAttrs())break;s=b.from(a.create(n[l+1],s)),i++,o++}return new k(s,i,o)}const ee={},te={},bd={touchstart:!0,touchmove:!0};class kd{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Vd(r){for(let e in ee){let t=ee[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{Cd(r,n)&&!Er(r,n)&&(r.editable||!(n.type in te))&&t(r,n)},bd[e]?{passive:!0}:void 0)}Q&&r.dom.addEventListener("input",()=>null),yr(r)}function Pe(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function wd(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function yr(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>Er(r,n))})}function Er(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function Cd(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Sd(r,e){!Er(r,e)&&ee[e.type]&&(r.editable||!(e.type in te))&&ee[e.type](r,e)}te.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!xo(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(me&&Y&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),xt&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",s=>s(r,qe(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||fd(r,t)?t.preventDefault():Pe(r,"key")};te.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};te.keypress=(r,e)=>{let t=e;if(xo(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||ce&&t.metaKey)return;if(r.someProp("handleKeyPress",s=>s(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof v)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(t.charCode);!/[\r\n]/.test(s)&&!r.someProp("handleTextInput",i=>i(r,n.$from.pos,n.$to.pos,s))&&r.dispatch(r.state.tr.insertText(s).scrollIntoView()),t.preventDefault()}};function Tn(r){return{left:r.clientX,top:r.clientY}}function Md(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function Dr(r,e,t,n,s){if(n==-1)return!1;let i=r.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(r.someProp(e,l=>o>i.depth?l(r,t,i.nodeAfter,i.before(o),s,!0):l(r,t,i.node(o),i.before(o),s,!1)))return!0;return!1}function mt(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);n.setMeta("pointer",!0),r.dispatch(n)}function vd(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&S.isSelectable(n)?(mt(r,new S(t)),!0):!1}function Td(r,e){if(e==-1)return!1;let t=r.state.selection,n,s;t instanceof S&&(n=t.node);let i=r.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(S.isSelectable(l)){n&&t.$from.depth>0&&o>=t.$from.depth&&i.before(t.$from.depth+1)==t.$from.pos?s=i.before(t.$from.depth):s=i.before(o);break}}return s!=null?(mt(r,S.create(r.state.doc,s)),!0):!1}function Od(r,e,t,n,s){return Dr(r,"handleClickOn",e,t,n)||r.someProp("handleClick",i=>i(r,e,n))||(s?Td(r,t):vd(r,t))}function Nd(r,e,t,n){return Dr(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",s=>s(r,e,n))}function Ad(r,e,t,n){return Dr(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",s=>s(r,e,n))||Ed(r,t,n)}function Ed(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(mt(r,v.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)mt(r,v.create(n,l+1,l+1+o.content.size));else if(S.isSelectable(o))mt(r,S.create(n,l));else continue;return!0}}function Ir(r){return pn(r)}const yo=ce?"metaKey":"ctrlKey";ee.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=Ir(r),s=Date.now(),i="singleClick";s-r.input.lastClick.time<500&&Md(t,r.input.lastClick)&&!t[yo]&&(r.input.lastClick.type=="singleClick"?i="doubleClick":r.input.lastClick.type=="doubleClick"&&(i="tripleClick")),r.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:i};let o=r.posAtCoords(Tn(t));o&&(i=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new Dd(r,o,t,!!n)):(i=="doubleClick"?Nd:Ad)(r,o.pos,o.inside,t)?t.preventDefault():Pe(r,"pointer"))};class Dd{constructor(e,t,n,s){this.view=e,this.pos=t,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[yo],this.allowDefault=n.shiftKey;let i,o;if(t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let d=e.state.doc.resolve(t.pos);i=d.parent,o=d.depth?d.before():0}const l=s?null:n.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof S&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ye&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Pe(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Te(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Tn(e))),this.updateAllowDefault(e),this.allowDefault||!t?Pe(this.view,"pointer"):Od(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Q&&this.mightDrag&&!this.mightDrag.node.isAtom||Y&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(mt(this.view,T.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Pe(this.view,"pointer")}move(e){this.updateAllowDefault(e),Pe(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ee.touchstart=r=>{r.input.lastTouch=Date.now(),Ir(r),Pe(r,"pointer")};ee.touchmove=r=>{r.input.lastTouch=Date.now(),Pe(r,"pointer")};ee.contextmenu=r=>Ir(r);function xo(r,e){return r.composing?!0:Q&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const Id=me?5e3:-1;te.compositionstart=te.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof v&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),pn(r,!0),r.markCursor=null;else if(pn(r,!e.selection.empty),ye&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=r.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}r.input.composing=!0}bo(r,Id)};te.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,bo(r,20))};function bo(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>pn(r),e))}function ko(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=Pd());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function Rd(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=vc(e.focusNode,e.focusOffset),n=Tc(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let s=n.pmViewDesc,i=r.domObserver.lastChangedTextNode;if(t==i||n==i)return i;if(!s||!s.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return n}}return t||n}function Pd(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function pn(r,e=!1){if(!(me&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),ko(r),e||r.docView&&r.docView.dirty){let t=Nr(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!r.state.selection.empty?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function Bd(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const Pt=ie&&ze<15||xt&&Dc<604;ee.copy=te.cut=(r,e)=>{let t=e,n=r.state.selection,s=t.type=="cut";if(n.empty)return;let i=Pt?null:t.clipboardData,o=n.content(),{dom:l,text:a}=co(r,o);i?(t.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):Bd(r,l),s&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function zd(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function Ld(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Bt(r,n.value,null,s,e):Bt(r,n.textContent,n.innerHTML,s,e)},50)}function Bt(r,e,t,n,s){let i=uo(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",a=>a(r,s,i||k.empty)))return!0;if(!i)return!1;let o=zd(i),l=o?r.state.tr.replaceSelectionWith(o,n):r.state.tr.replaceSelection(i);return r.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Vo(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}te.paste=(r,e)=>{let t=e;if(r.composing&&!me)return;let n=Pt?null:t.clipboardData,s=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&Bt(r,Vo(n),n.getData("text/html"),s,t)?t.preventDefault():Ld(r,t)};class wo{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Co=ce?"altKey":"ctrlKey";ee.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let s=r.state.selection,i=s.empty?null:r.posAtCoords(Tn(t)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof S?s.to-1:s.to))){if(n&&n.mightDrag)o=S.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let u=r.docView.nearestDesc(t.target,!0);u&&u.node.type.spec.draggable&&u!=r.docView&&(o=S.create(r.state.doc,u.posBefore))}}let l=(o||r.state.selection).content(),{dom:a,text:c,slice:d}=co(r,l);(!t.dataTransfer.files.length||!Y||Ki>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Pt?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",Pt||t.dataTransfer.setData("text/plain",c),r.dragging=new wo(d,!t[Co],o)};ee.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};te.dragover=te.dragenter=(r,e)=>e.preventDefault();te.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let s=r.posAtCoords(Tn(t));if(!s)return;let i=r.state.doc.resolve(s.pos),o=n&&n.slice;o?r.someProp("transformPasted",p=>{o=p(o,r)}):o=uo(r,Vo(t.dataTransfer),Pt?null:t.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&!t[Co]);if(r.someProp("handleDrop",p=>p(r,t,o||k.empty,l))){t.preventDefault();return}if(!o)return;t.preventDefault();let a=o?$i(r.state.doc,i.pos,o):i.pos;a==null&&(a=i.pos);let c=r.state.tr;if(l){let{node:p}=n;p?p.replace(c):c.deleteSelection()}let d=c.mapping.map(a),u=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(u?c.replaceRangeWith(d,d,o.content.firstChild):c.replaceRange(d,d,o),c.doc.eq(f))return;let h=c.doc.resolve(d);if(u&&S.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new S(h));else{let p=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((g,y,x,w)=>p=w),c.setSelection(Ar(r,h,c.doc.resolve(p)))}r.focus(),r.dispatch(c.setMeta("uiEvent","drop"))};ee.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&Te(r)},20))};ee.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};ee.beforeinput=(r,e)=>{if(Y&&me&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",i=>i(r,qe(8,"Backspace")))))return;let{$cursor:s}=r.state.selection;s&&s.pos>0&&r.dispatch(r.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let r in te)ee[r]=te[r];function zt(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class mn{constructor(e,t){this.toDOM=e,this.spec=t||Qe,this.side=this.spec.side||0}map(e,t,n,s){let{pos:i,deleted:o}=e.mapResult(t.from+s,this.side<0?-1:1);return o?null:new ue(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof mn&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&zt(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class $e{constructor(e,t){this.attrs=e,this.spec=t||Qe}map(e,t,n,s){let i=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new ue(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof $e&&zt(this.attrs,e.attrs)&&zt(this.spec,e.spec)}static is(e){return e.type instanceof $e}destroy(){}}class Rr{constructor(e,t){this.attrs=e,this.spec=t||Qe}map(e,t,n,s){let i=e.mapResult(t.from+s,1);if(i.deleted)return null;let o=e.mapResult(t.to+s,-1);return o.deleted||o.pos<=i.pos?null:new ue(i.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:s}=e.content.findIndex(t.from),i;return s==t.from&&!(i=e.child(n)).isText&&s+i.nodeSize==t.to}eq(e){return this==e||e instanceof Rr&&zt(this.attrs,e.attrs)&&zt(this.spec,e.spec)}destroy(){}}class ue{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new ue(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new ue(e,e,new mn(t,n))}static inline(e,t,n,s){return new ue(e,t,new $e(n,s))}static node(e,t,n,s){return new ue(e,t,new Rr(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof $e}get widget(){return this.type instanceof mn}}const dt=[],Qe={};class _{constructor(e,t){this.local=e.length?e:dt,this.children=t.length?t:dt}static create(e,t){return t.length?gn(t,e,0,Qe):G}find(e,t,n){let s=[];return this.findInner(e??0,t??1e9,s,0,n),s}findInner(e,t,n,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!i||i(l.spec))&&n.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,n,s+l,i)}}map(e,t,n){return this==G||e.maps.length==0?this:this.mapInner(e,t,0,0,n||Qe)}mapInner(e,t,n,s,i){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,n,s);a&&a.type.valid(t,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?$d(this.children,o||[],e,t,n,s,i):o?new _(o.sort(et),dt):G}add(e,t){return t.length?this==G?_.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let s,i=0;e.forEach((l,a)=>{let c=a+n,d;if(d=Mo(t,l,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<a;)i+=3;s[i]==a?s[i+2]=s[i+2].addInner(l,d,c+1):s.splice(i,0,a,a+l.nodeSize,gn(d,l,c+1,Qe)),i+=3}});let o=So(i?vo(t):t,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new _(o.length?this.local.concat(o).sort(et):this.local,s||this.children)}remove(e){return e.length==0||this==G?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let o,l=n[i]+t,a=n[i+1]+t;for(let d=0,u;d<e.length;d++)(u=e[d])&&u.from>l&&u.to<a&&(e[d]=null,(o||(o=[])).push(u));if(!o)continue;n==this.children&&(n=this.children.slice());let c=n[i+2].removeInner(o,l+1);c!=G?n[i+2]=c:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<s.length;l++)s[l].eq(o,t)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new _(s,n):G}forChild(e,t){if(this==G)return this;if(t.isLeaf)return _.empty;let n,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let i=e+1,o=i+t.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>i&&a.type instanceof $e){let c=Math.max(i,a.from)-i,d=Math.min(o,a.to)-i;c<d&&(s||(s=[])).push(a.copy(c,d))}}if(s){let l=new _(s.sort(et),dt);return n?new De([l,n]):l}return n||G}eq(e){if(this==e)return!0;if(!(e instanceof _)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Pr(this.localsInner(e))}localsInner(e){if(this==G)return dt;if(e.inlineContent||!this.local.some($e.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof $e||t.push(this.local[n]);return t}forEachSet(e){e(this)}}_.empty=new _([],[]);_.removeOverlap=Pr;const G=_.empty;class De{constructor(e){this.members=e}map(e,t){const n=this.members.map(s=>s.map(e,t,Qe));return De.from(n)}forChild(e,t){if(t.isLeaf)return _.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,t);i!=G&&(i instanceof De?n=n.concat(i.members):n.push(i))}return De.from(n)}eq(e){if(!(e instanceof De)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!t)t=i;else{n&&(t=t.slice(),n=!1);for(let o=0;o<i.length;o++)t.push(i[o])}}return t?Pr(n?t:t.sort(et)):dt}static from(e){switch(e.length){case 0:return G;case 1:return e[0];default:return new De(e.every(t=>t instanceof _)?e:e.reduce((t,n)=>t.concat(n instanceof _?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function $d(r,e,t,n,s,i,o){let l=r.slice();for(let c=0,d=i;c<t.maps.length;c++){let u=0;t.maps[c].forEach((f,h,p,g)=>{let y=g-p-(h-f);for(let x=0;x<l.length;x+=3){let w=l[x+1];if(w<0||f>w+d-u)continue;let N=l[x]+d-u;h>=N?l[x+1]=f<=N?-2:-1:f>=d&&y&&(l[x]+=y,l[x+1]+=y)}u+=y}),d=t.maps[c].map(d,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let d=t.map(r[c]+i),u=d-s;if(u<0||u>=n.content.size){a=!0;continue}let f=t.map(r[c+1]+i,-1),h=f-s,{index:p,offset:g}=n.content.findIndex(u),y=n.maybeChild(p);if(y&&g==u&&g+y.nodeSize==h){let x=l[c+2].mapInner(t,y,d+1,r[c]+i+1,o);x!=G?(l[c]=u,l[c+1]=h,l[c+2]=x):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=Fd(l,r,e,t,s,i,o),d=gn(c,n,0,o);e=d.local;for(let u=0;u<l.length;u+=3)l[u+1]<0&&(l.splice(u,3),u-=3);for(let u=0,f=0;u<d.children.length;u+=3){let h=d.children[u];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,d.children[u],d.children[u+1],d.children[u+2])}}return new _(e.sort(et),l)}function So(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let s=r[n];t.push(new ue(s.from+e,s.to+e,s.type))}return t}function Fd(r,e,t,n,s,i,o){function l(a,c){for(let d=0;d<a.local.length;d++){let u=a.local[d].map(n,s,c);u?t.push(u):o.onRemove&&o.onRemove(a.local[d].spec)}for(let d=0;d<a.children.length;d+=3)l(a.children[d+2],a.children[d]+c+1)}for(let a=0;a<r.length;a+=3)r[a+1]==-1&&l(r[a+2],e[a]+i+1);return t}function Mo(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,s=null;for(let i=0,o;i<r.length;i++)(o=r[i])&&o.from>t&&o.to<n&&((s||(s=[])).push(o),r[i]=null);return s}function vo(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function gn(r,e,t,n){let s=[],i=!1;e.forEach((l,a)=>{let c=Mo(r,l,a+t);if(c){i=!0;let d=gn(c,l,t+a+1,n);d!=G&&s.push(a,a+l.nodeSize,d)}});let o=So(i?vo(r):r,-t).sort(et);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new _(o,s):G}function et(r,e){return r.from-e.from||r.to-e.to}function Pr(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let s=t+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==r&&(e=r.slice()),e[s]=i.copy(i.from,n.to),Bs(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,i.from),Bs(e,s,n.copy(i.from,n.to)));break}}}return e}function Bs(r,e,t){for(;e<r.length&&et(t,r[e])>0;)e++;r.splice(e,0,t)}function Jn(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=G&&e.push(n)}),r.cursorWrapper&&e.push(_.create(r.state.doc,[r.cursorWrapper.deco])),De.from(e)}const _d={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Hd=ie&&ze<=11;class jd{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Wd{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new jd,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);ie&&ze<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Hd&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,_d)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Os(this.view)){if(this.suppressingSelectionUpdates)return Te(this.view);if(ie&&ze<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&rt(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let i=e.focusNode;i;i=Rt(i))t.add(i);for(let i=e.anchorNode;i;i=Rt(i))if(t.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Os(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,l=!1,a=[];if(e.editable)for(let d=0;d<t.length;d++){let u=this.registerMutation(t[d],a);u&&(i=i<0?u.from:Math.min(u.from,i),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(l=!0))}if(ye&&a.length){let d=a.filter(u=>u.nodeName=="BR");if(d.length==2){let[u,f]=d;u.parentNode&&u.parentNode.parentNode==f.parentNode?f.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let f of d){let h=f.parentNode;h&&h.nodeName=="LI"&&(!u||Kd(e,u)!=h)&&f.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Mn(n)&&(c=Nr(e))&&c.eq(T.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Te(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),qd(e)),this.handleDOMChange(i,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Te(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let u=e.addedNodes[d];t.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(ie&&ze<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:u,nextSibling:f}=e.addedNodes[d];(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(s=u),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==e.target?K(s)+1:0,l=n.localPosFromDOM(e.target,o,-1),a=i&&i.parentNode==e.target?K(i):e.target.childNodes.length,c=n.localPosFromDOM(e.target,a,1);return{from:l,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let zs=new WeakMap,Ls=!1;function qd(r){if(!zs.has(r)&&(zs.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=ye,Ls)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ls=!0}}function $s(r,e){let t=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,o=r.domAtPos(r.state.selection.anchor);return rt(o.node,o.offset,s,i)&&([t,n,s,i]=[s,i,t,n]),{anchorNode:t,anchorOffset:n,focusNode:s,focusOffset:i}}function Jd(r,e){if(e.getComposedRanges){let s=e.getComposedRanges(r.root)[0];if(s)return $s(r,s)}let t;function n(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?$s(r,t):null}function Kd(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function Ud(r,e,t){let{node:n,fromOffset:s,toOffset:i,from:o,to:l}=r.docView.parseRange(e,t),a=r.domSelectionRange(),c,d=a.anchorNode;if(d&&r.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:a.anchorOffset}],Mn(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Y&&r.input.lastKeyCode===8)for(let y=i;y>s;y--){let x=n.childNodes[y-1],w=x.pmViewDesc;if(x.nodeName=="BR"&&!w){i=y;break}if(!w||w.size)break}let u=r.state.doc,f=r.someProp("domParser")||Be.fromSchema(r.state.schema),h=u.resolve(o),p=null,g=f.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Gd,context:h});if(c&&c[0].pos!=null){let y=c[0].pos,x=c[1]&&c[1].pos;x==null&&(x=y),p={anchor:y+o,head:x+o}}return{doc:g,sel:p,from:o,to:l}}function Gd(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(Q&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||Q&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Yd=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Zd(r,e,t,n,s){let i=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let E=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,Oe=Nr(r,E);if(Oe&&!r.state.selection.eq(Oe)){if(Y&&me&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",el=>el(r,qe(13,"Enter"))))return;let Wt=r.state.tr.setSelection(Oe);E=="pointer"?Wt.setMeta("pointer",!0):E=="key"&&Wt.scrollIntoView(),i&&Wt.setMeta("composition",i),r.dispatch(Wt)}return}let o=r.state.doc.resolve(e),l=o.sharedDepth(t);e=o.before(l+1),t=r.state.doc.resolve(t).after(l+1);let a=r.state.selection,c=Ud(r,e,t),d=r.state.doc,u=d.slice(c.from,c.to),f,h;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(f=r.state.selection.to,h="end"):(f=r.state.selection.from,h="start"),r.input.lastKeyCode=null;let p=eu(u.content,c.doc.content,c.from,f,h);if(p&&r.input.domChangeCount++,(xt&&r.input.lastIOSEnter>Date.now()-225||me)&&s.some(E=>E.nodeType==1&&!Yd.test(E.nodeName))&&(!p||p.endA>=p.endB)&&r.someProp("handleKeyDown",E=>E(r,qe(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!p)if(n&&a instanceof v&&!a.empty&&a.$head.sameParent(a.$anchor)&&!r.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let E=Fs(r,r.state.doc,c.sel);if(E&&!E.eq(r.state.selection)){let Oe=r.state.tr.setSelection(E);i&&Oe.setMeta("composition",i),r.dispatch(Oe)}}return}r.state.selection.from<r.state.selection.to&&p.start==p.endB&&r.state.selection instanceof v&&(p.start>r.state.selection.from&&p.start<=r.state.selection.from+2&&r.state.selection.from>=c.from?p.start=r.state.selection.from:p.endA<r.state.selection.to&&p.endA>=r.state.selection.to-2&&r.state.selection.to<=c.to&&(p.endB+=r.state.selection.to-p.endA,p.endA=r.state.selection.to)),ie&&ze<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),y=c.doc.resolveNoCache(p.endB-c.from),x=d.resolve(p.start),w=g.sameParent(y)&&g.parent.inlineContent&&x.end()>=p.endA,N;if((xt&&r.input.lastIOSEnter>Date.now()-225&&(!w||s.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&!g.sameParent(y)&&(N=T.findFrom(c.doc.resolve(g.pos+1),1,!0))&&N.head==y.pos)&&r.someProp("handleKeyDown",E=>E(r,qe(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>p.start&&Qd(d,p.start,p.endA,g,y)&&r.someProp("handleKeyDown",E=>E(r,qe(8,"Backspace")))){me&&Y&&r.domObserver.suppressSelectionUpdates();return}Y&&me&&p.endB==p.start&&(r.input.lastAndroidDelete=Date.now()),me&&!w&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,y=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{r.someProp("handleKeyDown",function(E){return E(r,qe(13,"Enter"))})},20));let R=p.start,B=p.endA,D,se,X;if(w){if(g.pos==y.pos)ie&&ze<=11&&g.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>Te(r),20)),D=r.state.tr.delete(R,B),se=d.resolve(p.start).marksAcross(d.resolve(p.endA));else if(p.endA==p.endB&&(X=Xd(g.parent.content.cut(g.parentOffset,y.parentOffset),x.parent.content.cut(x.parentOffset,p.endA-x.start()))))D=r.state.tr,X.type=="add"?D.addMark(R,B,X.mark):D.removeMark(R,B,X.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let E=g.parent.textBetween(g.parentOffset,y.parentOffset);if(r.someProp("handleTextInput",Oe=>Oe(r,R,B,E)))return;D=r.state.tr.insertText(E,R,B)}}if(D||(D=r.state.tr.replace(R,B,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let E=Fs(r,D.doc,c.sel);E&&!(Y&&me&&r.composing&&E.empty&&(p.start!=p.endB||r.input.lastAndroidDelete<Date.now()-100)&&(E.head==R||E.head==D.mapping.map(B)-1)||ie&&E.empty&&E.head==R)&&D.setSelection(E)}se&&D.ensureMarks(se),i&&D.setMeta("composition",i),r.dispatch(D.scrollIntoView())}function Fs(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Ar(r,e.resolve(t.anchor),e.resolve(t.head))}function Xd(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,s=t,i=n,o,l,a;for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);for(let d=0;d<t.length;d++)i=t[d].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",a=d=>d.mark(l.addToSet(d.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",a=d=>d.mark(l.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(a(e.child(d)));if(b.from(c).eq(r))return{mark:l,type:o}}function Qd(r,e,t,n,s){if(t-e<=s.pos-n.pos||Kn(n,!0,!1)<s.pos)return!1;let i=r.resolve(e);if(!n.parent.isTextblock){let l=i.nodeAfter;return l!=null&&t==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=r.resolve(Kn(i,!0,!0));return!o.parent.isTextblock||o.pos>t||Kn(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function Kn(r,e,t){let n=r.depth,s=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,s++,e=!1;if(t){let i=r.node(n).maybeChild(r.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function eu(r,e,t,n,s){let i=r.findDiffStart(e,t);if(i==null)return null;let{a:o,b:l}=r.findDiffEnd(e,t+r.size,t+e.size);if(s=="end"){let a=Math.max(0,i-Math.min(o,l));n-=o+a-i}if(o<i&&r.size<e.size){let a=n<=i&&n>=o?i-n:0;i-=a,i&&i<e.size&&_s(e.textBetween(i-1,i+1))&&(i+=a?1:-1),l=i+(l-o),o=i}else if(l<i){let a=n<=i&&n>=l?i-n:0;i-=a,i&&i<r.size&&_s(r.textBetween(i-1,i+1))&&(i+=a?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function _s(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class tu{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new kd,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Js),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ws(this),js(this),this.nodeViews=qs(this),this.docView=ws(this.state.doc,Hs(this),Jn(this),this.dom,this),this.domObserver=new Wd(this,(n,s,i,o)=>Zd(this,n,s,i,o)),this.domObserver.start(),Vd(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&yr(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Js),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(ko(this),o=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let h=qs(this);ru(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&yr(this),this.editable=Ws(this),js(this);let a=Jn(this),c=Hs(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(e.doc,c,a);(u||!e.selection.eq(s.selection))&&(o=!0);let f=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Pc(this);if(o){this.domObserver.stop();let h=u&&(ie||Y)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&nu(s.selection,e.selection);if(u){let p=Y?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Rd(this)),(i||!this.docView.update(e.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=ws(e.doc,c,a,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&id(this))?Te(this,h):(oo(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():f&&Bc(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof S){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&gs(this,t.getBoundingClientRect(),e)}else gs(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let i=n.from+(this.state.doc.content.size-t.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(s=i)}this.dragging=new wo(e.slice,e.move,s<0?void 0:S.create(this.state.doc,s))}someProp(e,t){let n=this._props&&this._props[e],s;if(n!=null&&(s=t?t(n):n))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(s=t?t(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(s=t?t(l):l))return s}}hasFocus(){if(ie){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&zc(this.dom),Te(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Hc(this,e)}coordsAtPos(e,t=1){return Xi(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let s=this.docView.posFromDOM(e,t,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return Kc(this,t||this.state,e)}pasteHTML(e,t){return Bt(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Bt(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(wd(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Jn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Sc())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Sd(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Q&&this.root.nodeType===11&&Nc(this.dom.ownerDocument)==this.dom&&Jd(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Hs(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[ue.node(0,r.state.doc.content.size,e)]}function js(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:ue.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function Ws(r){return!r.someProp("editable",e=>e(r.state)===!1)}function nu(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function qs(r){let e=Object.create(null);function t(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function ru(r,e){let t=0,n=0;for(let s in r){if(r[s]!=e[s])return!0;t++}for(let s in e)n++;return t!=n}function Js(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Fe={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},yn={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},su=typeof navigator<"u"&&/Mac/.test(navigator.platform),iu=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var U=0;U<10;U++)Fe[48+U]=Fe[96+U]=String(U);for(var U=1;U<=24;U++)Fe[U+111]="F"+U;for(var U=65;U<=90;U++)Fe[U]=String.fromCharCode(U+32),yn[U]=String.fromCharCode(U);for(var Un in Fe)yn.hasOwnProperty(Un)||(yn[Un]=Fe[Un]);function ou(r){var e=su&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||iu&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?yn:Fe)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const lu=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function au(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,s,i,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))lu?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+a)}return n&&(t="Alt-"+t),s&&(t="Ctrl-"+t),o&&(t="Meta-"+t),i&&(t="Shift-"+t),t}function cu(r){let e=Object.create(null);for(let t in r)e[au(t)]=r[t];return e}function Gn(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function du(r){return new le({props:{handleKeyDown:To(r)}})}function To(r){let e=cu(r);return function(t,n){let s=ou(n),i,o=e[Gn(s,n)];if(o&&o(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let l=e[Gn(s,n,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(i=Fe[n.keyCode])&&i!=s){let l=e[Gn(i,n)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}const Br=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function Oo(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const No=(r,e,t)=>{let n=Oo(r,t);if(!n)return!1;let s=zr(n);if(!s){let o=n.blockRange(),l=o&&wt(o);return l==null?!1:(e&&e(r.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(Lo(r,s,e,-1))return!0;if(n.parent.content.size==0&&(bt(i,"end")||S.isSelectable(i)))for(let o=n.depth;;o--){let l=Cn(r.doc,n.before(o),n.after(o),k.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=r.tr.step(l);a.setSelection(bt(i,"end")?T.findFrom(a.doc.resolve(a.mapping.map(s.pos,-1)),-1):S.create(a.doc,s.pos-i.nodeSize)),e(a.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&s.depth==n.depth-1?(e&&e(r.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},uu=(r,e,t)=>{let n=Oo(r,t);if(!n)return!1;let s=zr(n);return s?Ao(r,s,e):!1},fu=(r,e,t)=>{let n=Do(r,t);if(!n)return!1;let s=Lr(n);return s?Ao(r,s,e):!1};function Ao(r,e,t){let n=e.nodeBefore,s=n,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let o=e.nodeAfter,l=o,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let c=Cn(r.doc,i,a,k.empty);if(!c||c.from!=i||c instanceof H&&c.slice.size>=a-i)return!1;if(t){let d=r.tr.step(c);d.setSelection(v.create(d.doc,i)),t(d.scrollIntoView())}return!0}function bt(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const Eo=(r,e,t)=>{let{$head:n,empty:s}=r.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;i=zr(n)}let o=i&&i.nodeBefore;return!o||!S.isSelectable(o)?!1:(e&&e(r.tr.setSelection(S.create(r.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function zr(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function Do(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const Io=(r,e,t)=>{let n=Do(r,t);if(!n)return!1;let s=Lr(n);if(!s)return!1;let i=s.nodeAfter;if(Lo(r,s,e,1))return!0;if(n.parent.content.size==0&&(bt(i,"start")||S.isSelectable(i))){let o=Cn(r.doc,n.before(),n.after(),k.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=r.tr.step(o);l.setSelection(bt(i,"start")?T.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):S.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(r.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},Ro=(r,e,t)=>{let{$head:n,empty:s}=r.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;i=Lr(n)}let o=i&&i.nodeAfter;return!o||!S.isSelectable(o)?!1:(e&&e(r.tr.setSelection(S.create(r.doc,i.pos)).scrollIntoView()),!0)};function Lr(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const hu=(r,e)=>{let t=r.selection,n=t instanceof S,s;if(n){if(t.node.isTextblock||!He(r.doc,t.from))return!1;s=t.from}else if(s=wn(r.doc,t.from,-1),s==null)return!1;if(e){let i=r.tr.join(s);n&&i.setSelection(S.create(i.doc,s-r.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},pu=(r,e)=>{let t=r.selection,n;if(t instanceof S){if(t.node.isTextblock||!He(r.doc,t.to))return!1;n=t.to}else if(n=wn(r.doc,t.to,1),n==null)return!1;return e&&e(r.tr.join(n).scrollIntoView()),!0},mu=(r,e)=>{let{$from:t,$to:n}=r.selection,s=t.blockRange(n),i=s&&wt(s);return i==null?!1:(e&&e(r.tr.lift(s,i).scrollIntoView()),!0)},Po=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function $r(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const gu=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let s=t.node(-1),i=t.indexAfter(-1),o=$r(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let l=t.after(),a=r.tr.replaceWith(l,l,o.createAndFill());a.setSelection(T.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},Bo=(r,e)=>{let t=r.selection,{$from:n,$to:s}=t;if(t instanceof fe||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=$r(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,l=r.tr.insert(o,i.createAndFill());l.setSelection(v.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},zo=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let i=t.before();if(ve(r.doc,i))return e&&e(r.tr.split(i).scrollIntoView()),!0}let n=t.blockRange(),s=n&&wt(n);return s==null?!1:(e&&e(r.tr.lift(n,s).scrollIntoView()),!0)};function yu(r){return(e,t)=>{let{$from:n,$to:s}=e.selection;if(e.selection instanceof S&&e.selection.node.isBlock)return!n.parentOffset||!ve(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],o,l,a=!1,c=!1;for(let h=n.depth;;h--)if(n.node(h).isBlock){a=n.end(h)==n.pos+(n.depth-h),c=n.start(h)==n.pos-(n.depth-h),l=$r(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),i.unshift(a&&l?{type:l}:null),o=h;break}else{if(h==1)return!1;i.unshift(null)}let d=e.tr;(e.selection instanceof v||e.selection instanceof fe)&&d.deleteSelection();let u=d.mapping.map(n.pos),f=ve(d.doc,u,i.length,i);if(f||(i[0]=l?{type:l}:null,f=ve(d.doc,u,i.length,i)),d.split(u,i.length,i),!a&&c&&n.node(o).type!=l){let h=d.mapping.map(n.before(o)),p=d.doc.resolve(h);l&&n.node(o-1).canReplaceWith(p.index(),p.index()+1,l)&&d.setNodeMarkup(d.mapping.map(n.before(o)),l)}return t&&t(d.scrollIntoView()),!0}}const xu=yu(),bu=(r,e)=>{let{$from:t,to:n}=r.selection,s,i=t.sharedDepth(n);return i==0?!1:(s=t.before(i),e&&e(r.tr.setSelection(S.create(r.doc,s))),!0)};function ku(r,e,t){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||He(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function Lo(r,e,t,n){let s=e.nodeBefore,i=e.nodeAfter,o,l,a=s.type.spec.isolating||i.type.spec.isolating;if(!a&&ku(r,e,t))return!0;let c=!a&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(t){let h=e.pos+i.nodeSize,p=b.empty;for(let x=o.length-1;x>=0;x--)p=b.from(o[x].create(null,p));p=b.from(s.copy(p));let g=r.tr.step(new j(e.pos-1,h,e.pos,h,new k(p,1,0),o.length,!0)),y=g.doc.resolve(h+2*o.length);y.nodeAfter&&y.nodeAfter.type==s.type&&He(g.doc,y.pos)&&g.join(y.pos),t(g.scrollIntoView())}return!0}let d=i.type.spec.isolating||n>0&&a?null:T.findFrom(e,1),u=d&&d.$from.blockRange(d.$to),f=u&&wt(u);if(f!=null&&f>=e.depth)return t&&t(r.tr.lift(u,f).scrollIntoView()),!0;if(c&&bt(i,"start",!0)&&bt(s,"end")){let h=s,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=i,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(t){let x=b.empty;for(let N=p.length-1;N>=0;N--)x=b.from(p[N].copy(x));let w=r.tr.step(new j(e.pos-p.length,e.pos+i.nodeSize,e.pos+y,e.pos+i.nodeSize-y,new k(x,p.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function $o(r){return function(e,t){let n=e.selection,s=r<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(t&&t(e.tr.setSelection(v.create(e.doc,r<0?s.start(i):s.end(i)))),!0):!1}}const Vu=$o(-1),wu=$o(1);function Cu(r,e=null){return function(t,n){let{$from:s,$to:i}=t.selection,o=s.blockRange(i),l=o&&vr(o,r,e);return l?(n&&n(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Ks(r,e=null){return function(t,n){let s=!1;for(let i=0;i<t.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=t.selection.ranges[i];t.doc.nodesBetween(o,l,(a,c)=>{if(s)return!1;if(!(!a.isTextblock||a.hasMarkup(r,e)))if(a.type==r)s=!0;else{let d=t.doc.resolve(c),u=d.index();s=d.parent.canReplaceWith(u,u+1,r)}})}if(!s)return!1;if(n){let i=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=t.selection.ranges[o];i.setBlockType(l,a,r,e)}n(i.scrollIntoView())}return!0}}function Fr(...r){return function(e,t,n){for(let s=0;s<r.length;s++)if(r[s](e,t,n))return!0;return!1}}Fr(Br,No,Eo);Fr(Br,Io,Ro);Fr(Po,Bo,zo,xu);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Su(r,e=null){return function(t,n){let{$from:s,$to:i}=t.selection,o=s.blockRange(i),l=!1,a=o;if(!o)return!1;if(o.depth>=2&&s.node(o.depth-1).type.compatibleContent(r)&&o.startIndex==0){if(s.index(o.depth-1)==0)return!1;let d=t.doc.resolve(o.start-2);a=new an(d,d,o.depth),o.endIndex<o.parent.childCount&&(o=new an(s,t.doc.resolve(i.end(o.depth)),o.depth)),l=!0}let c=vr(a,r,e,o);return c?(n&&n(Mu(t.tr,o,c,l,r).scrollIntoView()),!0):!1}}function Mu(r,e,t,n,s){let i=b.empty;for(let d=t.length-1;d>=0;d--)i=b.from(t[d].type.create(t[d].attrs,i));r.step(new j(e.start-(n?2:0),e.end,e.start,e.end,new k(i,0,0),t.length,!0));let o=0;for(let d=0;d<t.length;d++)t[d].type==s&&(o=d+1);let l=t.length-o,a=e.start+t.length-(n?2:0),c=e.parent;for(let d=e.startIndex,u=e.endIndex,f=!0;d<u;d++,f=!1)!f&&ve(r.doc,a,l)&&(r.split(a,l),a+=2*l),a+=c.child(d).nodeSize;return r}function vu(r){return function(e,t){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,o=>o.childCount>0&&o.firstChild.type==r);return i?t?n.node(i.depth-1).type==r?Tu(e,t,r,i):Ou(e,t,i):!0:!1}}function Tu(r,e,t,n){let s=r.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(s.step(new j(i-1,o,i,o,new k(b.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new an(s.doc.resolve(n.$from.pos),s.doc.resolve(o),n.depth));const l=wt(n);if(l==null)return!1;s.lift(n,l);let a=s.mapping.map(i,-1)-1;return He(s.doc,a)&&s.join(a),e(s.scrollIntoView()),!0}function Ou(r,e,t){let n=r.tr,s=t.parent;for(let h=t.end,p=t.endIndex-1,g=t.startIndex;p>g;p--)h-=s.child(p).nodeSize,n.delete(h-1,h+1);let i=n.doc.resolve(t.start),o=i.nodeAfter;if(n.mapping.map(t.end)!=t.start+i.nodeAfter.nodeSize)return!1;let l=t.startIndex==0,a=t.endIndex==s.childCount,c=i.node(-1),d=i.index(-1);if(!c.canReplace(d+(l?0:1),d+1,o.content.append(a?b.empty:b.from(s))))return!1;let u=i.pos,f=u+o.nodeSize;return n.step(new j(u-(l?1:0),f+(a?1:0),u+1,f-1,new k((l?b.empty:b.from(s.copy(b.empty))).append(a?b.empty:b.from(s.copy(b.empty))),l?0:1,a?0:1),l?0:1)),e(n.scrollIntoView()),!0}function Nu(r){return function(e,t){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,c=>c.childCount>0&&c.firstChild.type==r);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,a=l.child(o-1);if(a.type!=r)return!1;if(t){let c=a.lastChild&&a.lastChild.type==l.type,d=b.from(c?r.create():null),u=new k(b.from(r.create(null,b.from(l.type.create(null,d)))),c?3:1,0),f=i.start,h=i.end;t(e.tr.step(new j(f-(c?3:1),h,f,h,u,1,!0)).scrollIntoView())}return!0}}function On(r){const{state:e,transaction:t}=r;let{selection:n}=t,{doc:s}=t,{storedMarks:i}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=t.selection,s=t.doc,i=t.storedMarks,t}}}class Nn{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:s}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...d)=>{const u=a(...d)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,l=[],a=!!e,c=e||i.tr,d=()=>(!a&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),l.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(n).map(([f,h])=>[f,(...g)=>{const y=this.buildProps(c,t),x=h(...g)(y);return l.push(x),u}])),run:d};return u}createCan(e){const{rawCommands:t,state:n}=this,s=!1,i=e||n.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...d)=>c(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,t=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,l={tr:e,editor:s,view:o,state:On({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...d)=>c(...d)(l)]))}};return l}}class Au{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(s=>s!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function C(r,e,t){return r.config[e]===void 0&&r.parent?C(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?C(r.parent,e,t):null}):r.config[e]}function An(r){const e=r.filter(s=>s.type==="extension"),t=r.filter(s=>s.type==="node"),n=r.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function Fo(r){const e=[],{nodeExtensions:t,markExtensions:n}=An(r),s=[...t,...n],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:s},a=C(o,"addGlobalAttributes",l);if(!a)return;a().forEach(d=>{d.types.forEach(u=>{Object.entries(d.attributes).forEach(([f,h])=>{e.push({type:u,name:f,attribute:{...i,...h}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=C(o,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([d,u])=>{const f={...i,...u};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:d,attribute:f})})}),e}function q(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function ne(...r){return r.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const l=i?i.split(" "):[],a=n[s]?n[s].split(" "):[],c=l.filter(d=>!a.includes(d));n[s]=[...a,...c].join(" ")}else if(s==="style"){const l=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],a=n[s]?n[s].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;a.forEach(d=>{const[u,f]=d.split(":").map(h=>h.trim());c.set(u,f)}),l.forEach(d=>{const[u,f]=d.split(":").map(h=>h.trim());c.set(u,f)}),n[s]=Array.from(c.entries()).map(([d,u])=>`${d}: ${u}`).join("; ")}else n[s]=i}),n},{})}function xr(r,e){return e.filter(t=>t.type===r.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,n)=>ne(t,n),{})}function _o(r){return typeof r=="function"}function O(r,e=void 0,...t){return _o(r)?e?r.bind(e)(...t):r(...t):r}function Eu(r={}){return Object.keys(r).length===0&&r.constructor===Object}function Du(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function Us(r,e){return"style"in r?r:{...r,getAttrs:t=>{const n=r.getAttrs?r.getAttrs(t):r.attrs;if(n===!1)return!1;const s=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(t):Du(t.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...n,...s}}}}function Gs(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&Eu(t)?!1:t!=null))}function Iu(r,e){var t;const n=Fo(r),{nodeExtensions:s,markExtensions:i}=An(r),o=(t=s.find(c=>C(c,"topNode")))===null||t===void 0?void 0:t.name,l=Object.fromEntries(s.map(c=>{const d=n.filter(x=>x.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:e},f=r.reduce((x,w)=>{const N=C(w,"extendNodeSchema",u);return{...x,...N?N(c):{}}},{}),h=Gs({...f,content:O(C(c,"content",u)),marks:O(C(c,"marks",u)),group:O(C(c,"group",u)),inline:O(C(c,"inline",u)),atom:O(C(c,"atom",u)),selectable:O(C(c,"selectable",u)),draggable:O(C(c,"draggable",u)),code:O(C(c,"code",u)),whitespace:O(C(c,"whitespace",u)),defining:O(C(c,"defining",u)),isolating:O(C(c,"isolating",u)),attrs:Object.fromEntries(d.map(x=>{var w;return[x.name,{default:(w=x==null?void 0:x.attribute)===null||w===void 0?void 0:w.default}]}))}),p=O(C(c,"parseHTML",u));p&&(h.parseDOM=p.map(x=>Us(x,d)));const g=C(c,"renderHTML",u);g&&(h.toDOM=x=>g({node:x,HTMLAttributes:xr(x,d)}));const y=C(c,"renderText",u);return y&&(h.toText=y),[c.name,h]})),a=Object.fromEntries(i.map(c=>{const d=n.filter(y=>y.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:e},f=r.reduce((y,x)=>{const w=C(x,"extendMarkSchema",u);return{...y,...w?w(c):{}}},{}),h=Gs({...f,inclusive:O(C(c,"inclusive",u)),excludes:O(C(c,"excludes",u)),group:O(C(c,"group",u)),spanning:O(C(c,"spanning",u)),code:O(C(c,"code",u)),attrs:Object.fromEntries(d.map(y=>{var x;return[y.name,{default:(x=y==null?void 0:y.attribute)===null||x===void 0?void 0:x.default}]}))}),p=O(C(c,"parseHTML",u));p&&(h.parseDOM=p.map(y=>Us(y,d)));const g=C(c,"renderHTML",u);return g&&(h.toDOM=y=>g({mark:y,HTMLAttributes:xr(y,d)})),[c.name,h]}));return new Oi({topNode:o,nodes:l,marks:a})}function Yn(r,e){return e.nodes[r]||e.marks[r]||null}function Ys(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}const Ru=(r,e=500)=>{let t="";const n=r.parentOffset;return r.parent.nodesBetween(Math.max(0,n-e),n,(s,i,o,l)=>{var a,c;const d=((c=(a=s.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,n-i))}),t};function _r(r){return Object.prototype.toString.call(r)==="[object RegExp]"}class En{constructor(e){this.find=e.find,this.handler=e.handler}}const Pu=(r,e)=>{if(_r(e))return e.exec(r);const t=e(r);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=r,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function Gt(r){var e;const{editor:t,from:n,to:s,text:i,rules:o,plugin:l}=r,{view:a}=t;if(a.composing)return!1;const c=a.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let d=!1;const u=Ru(c)+i;return o.forEach(f=>{if(d)return;const h=Pu(u,f.find);if(!h)return;const p=a.state.tr,g=On({state:a.state,transaction:p}),y={from:n-(h[0].length-i.length),to:s},{commands:x,chain:w,can:N}=new Nn({editor:t,state:g});f.handler({state:g,range:y,match:h,commands:x,chain:w,can:N})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:n,to:s,text:i}),a.dispatch(p),d=!0)}),d}function Bu(r){const{editor:e,rules:t}=r,n=new le({state:{init(){return null},apply(s,i){const o=s.getMeta(n);if(o)return o;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:c,text:d}=l,u=c+d.length;Gt({editor:e,from:c,to:u,text:d,rules:t,plugin:n})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,l){return Gt({editor:e,from:i,to:o,text:l,rules:t,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Gt({editor:e,from:i.pos,to:i.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Gt({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function zu(r){return Object.prototype.toString.call(r).slice(8,-1)}function Yt(r){return zu(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function Dn(r,e){const t={...r};return Yt(r)&&Yt(e)&&Object.keys(e).forEach(n=>{Yt(e[n])&&Yt(r[n])?t[n]=Dn(r[n],e[n]):t[n]=e[n]}),t}class _e{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=O(C(this,"addOptions",{name:this.name}))),this.storage=O(C(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _e(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Dn(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new _e(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=O(C(t,"addOptions",{name:t.name})),t.storage=O(C(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const a=o.find(c=>(c==null?void 0:c.type.name)===t.name);return a&&n.removeStoredMark(a),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}}function Lu(r){return typeof r=="number"}class $u{constructor(e){this.find=e.find,this.handler=e.handler}}const Fu=(r,e,t)=>{if(_r(e))return[...r.matchAll(e)];const n=e(r,t);return n?n.map(s=>{const i=[s.text];return i.index=s.index,i.input=r,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function _u(r){const{editor:e,state:t,from:n,to:s,rule:i,pasteEvent:o,dropEvent:l}=r,{commands:a,chain:c,can:d}=new Nn({editor:e,state:t}),u=[];return t.doc.nodesBetween(n,s,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(n,p),y=Math.min(s,p+h.content.size),x=h.textBetween(g-p,y-p,void 0,"");Fu(x,i.find,o).forEach(N=>{if(N.index===void 0)return;const R=g+N.index+1,B=R+N[0].length,D={from:t.tr.mapping.map(R),to:t.tr.mapping.map(B)},se=i.handler({state:t,range:D,match:N,commands:a,chain:c,can:d,pasteEvent:o,dropEvent:l});u.push(se)})}),u.every(h=>h!==null)}const Hu=r=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",r),t};function ju(r){const{editor:e,rules:t}=r;let n=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:d,from:u,to:f,rule:h,pasteEvt:p})=>{const g=d.tr,y=On({state:d,transaction:g});if(!(!_u({editor:e,state:y,from:Math.max(u-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:l})||!g.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return t.map(d=>new le({view(u){const f=h=>{var p;n=!((p=u.dom.parentElement)===null||p===void 0)&&p.contains(h.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(u,f)=>(i=n===u.dom.parentElement,l=f,!1),paste:(u,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return o=f,s=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(u,f,h)=>{const p=u[0],g=p.getMeta("uiEvent")==="paste"&&!s,y=p.getMeta("uiEvent")==="drop"&&!i,x=p.getMeta("applyPasteRules"),w=!!x;if(!g&&!y&&!w)return;if(w){const{from:B,text:D}=x,se=B+D.length,X=Hu(D);return a({rule:d,state:h,from:B,to:{b:se},pasteEvt:X})}const N=f.doc.content.findDiffStart(h.doc.content),R=f.doc.content.findDiffEnd(h.doc.content);if(!(!Lu(N)||!R||N===R.b))return a({rule:d,state:h,from:N,to:R,pasteEvt:o})}}))}function Wu(r){const e=r.filter((t,n)=>r.indexOf(t)!==n);return Array.from(new Set(e))}class ft{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ft.resolve(e),this.schema=Iu(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ft.sort(ft.flatten(e)),n=Wu(t.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},s=C(t,"addExtensions",n);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((n,s)=>{const i=C(n,"priority")||100,o=C(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Yn(t.name,this.schema)},s=C(t,"addCommands",n);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=ft.sort([...this.extensions].reverse()),n=[],s=[],i=t.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:Yn(o.name,this.schema)},a=[],c=C(o,"addKeyboardShortcuts",l);let d={};if(o.type==="mark"&&C(o,"exitable",l)&&(d.ArrowRight=()=>_e.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([y,x])=>[y,()=>x({editor:e})]));d={...d,...g}}const u=du(d);a.push(u);const f=C(o,"addInputRules",l);Ys(o,e.options.enableInputRules)&&f&&n.push(...f());const h=C(o,"addPasteRules",l);Ys(o,e.options.enablePasteRules)&&h&&s.push(...h());const p=C(o,"addProseMirrorPlugins",l);if(p){const g=p();a.push(...g)}return a}).flat();return[Bu({editor:e,rules:n}),...ju({editor:e,rules:s}),...i]}get attributes(){return Fo(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=An(this.extensions);return Object.fromEntries(t.filter(n=>!!C(n,"addNodeView")).map(n=>{const s=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:e,type:q(n.name,this.schema)},o=C(n,"addNodeView",i);if(!o)return[];const l=(a,c,d,u,f)=>{const h=xr(a,s);return o()({node:a,view:c,getPos:d,decorations:u,innerDecorations:f,editor:e,extension:n,HTMLAttributes:h})};return[n.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Yn(e.name,this.schema)};e.type==="mark"&&(!((t=O(C(e,"keepOnSplit",n)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const s=C(e,"onBeforeCreate",n),i=C(e,"onCreate",n),o=C(e,"onUpdate",n),l=C(e,"onSelectionUpdate",n),a=C(e,"onTransaction",n),c=C(e,"onFocus",n),d=C(e,"onBlur",n),u=C(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),u&&this.editor.on("destroy",u)})}}class re{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=O(C(this,"addOptions",{name:this.name}))),this.storage=O(C(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new re(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Dn(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new re({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=O(C(t,"addOptions",{name:t.name})),t.storage=O(C(t,"addStorage",{name:t.name,options:t.options})),t}}function Ho(r,e,t){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=t||{};let l="";return r.nodesBetween(n,s,(a,c,d,u)=>{var f;a.isBlock&&c>n&&(l+=i);const h=o==null?void 0:o[a.type.name];if(h)return d&&(l+=h({node:a,pos:c,parent:d,index:u,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(n,c)-c,s-c))}),l}function jo(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const qu=re.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new le({key:new we("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:n,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),a=jo(t);return Ho(n,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),Ju=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),Ku=(r=!1)=>({commands:e})=>e.setContent("",r),Uu=()=>({state:r,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:s}=n;return t&&s.forEach(({$from:i,$to:o})=>{r.doc.nodesBetween(i.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:d}=e,u=c.resolve(d.map(a)),f=c.resolve(d.map(a+l.nodeSize)),h=u.blockRange(f);if(!h)return;const p=wt(h);if(l.type.isTextblock){const{defaultType:g}=u.parent.contentMatchAt(u.index());e.setNodeMarkup(h.start,g)}(p||p===0)&&e.lift(h,p)})}),!0},Gu=r=>e=>r(e),Yu=()=>({state:r,dispatch:e})=>Bo(r,e),Zu=(r,e)=>({editor:t,tr:n})=>{const{state:s}=t,i=s.doc.slice(r.from,r.to);n.deleteRange(r.from,r.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new v(n.doc.resolve(o-1))),!0},Xu=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,n=t.$anchor.node();if(n.content.size>0)return!1;const s=r.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const l=s.before(i),a=s.after(i);r.delete(l,a).scrollIntoView()}return!0}return!1},Qu=r=>({tr:e,state:t,dispatch:n})=>{const s=q(r,t.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(n){const a=i.before(o),c=i.after(o);e.delete(a,c).scrollIntoView()}return!0}return!1},ef=r=>({tr:e,dispatch:t})=>{const{from:n,to:s}=r;return t&&e.delete(n,s),!0},tf=()=>({state:r,dispatch:e})=>Br(r,e),nf=()=>({commands:r})=>r.keyboardShortcut("Enter"),rf=()=>({state:r,dispatch:e})=>gu(r,e);function xn(r,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>t.strict?e[s]===r[s]:_r(e[s])?e[s].test(r[s]):e[s]===r[s]):!0}function br(r,e,t={}){return r.find(n=>n.type===e&&xn(n.attrs,t))}function sf(r,e,t={}){return!!br(r,e,t)}function Hr(r,e,t={}){if(!r||!e)return;let n=r.parent.childAfter(r.parentOffset);if((!n.node||!n.node.marks.some(c=>c.type===e))&&(n=r.parent.childBefore(r.parentOffset)),!n.node||!n.node.marks.some(c=>c.type===e))return;const s=br([...n.node.marks],e,t);if(!s)return;let i=n.index,o=r.start()+n.offset,l=i+1,a=o+n.node.nodeSize;for(br([...n.node.marks],e,t);i>0&&s.isInSet(r.parent.child(i-1).marks);)i-=1,o-=r.parent.child(i).nodeSize;for(;l<r.parent.childCount&&sf([...r.parent.child(l).marks],e,t);)a+=r.parent.child(l).nodeSize,l+=1;return{from:o,to:a}}function We(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const of=(r,e={})=>({tr:t,state:n,dispatch:s})=>{const i=We(r,n.schema),{doc:o,selection:l}=t,{$from:a,from:c,to:d}=l;if(s){const u=Hr(a,i,e);if(u&&u.from<=c&&u.to>=d){const f=v.create(o,u.from,u.to);t.setSelection(f)}}return!0},lf=r=>e=>{const t=typeof r=="function"?r(e):r;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function Wo(r){return r instanceof v}function Ge(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function qo(r,e=null){if(!e)return null;const t=T.atStart(r),n=T.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return n;const s=t.from,i=n.to;return e==="all"?v.create(r,Ge(0,s,i),Ge(r.content.size,s,i)):v.create(r,Ge(e,s,i),Ge(e,s,i))}function jr(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const af=(r=null,e={})=>({editor:t,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{jr()&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(i&&r===null&&!Wo(t.state.selection))return o(),!0;const l=qo(s.doc,r)||t.state.selection,a=t.state.selection.eq(l);return i&&(a||s.setSelection(l),a&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},cf=(r,e)=>t=>r.every((n,s)=>e(n,{...t,index:s})),df=(r,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},r,e),Jo=r=>{const e=r.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?r.removeChild(n):n.nodeType===1&&Jo(n)}return r};function Zt(r){const e=`<body>${r}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Jo(t)}function bn(r,e,t){t={slice:!0,parseOptions:{},...t};const n=typeof r=="object"&&r!==null,s=typeof r=="string";if(n)try{if(Array.isArray(r)&&r.length>0)return b.fromArray(r.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(r);return t.errorOnInvalidContent&&o.check(),o}catch(i){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",i),bn("",e,t)}if(s){if(t.errorOnInvalidContent){let o=!1,l="";const a=new Oi({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,l=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?Be.fromSchema(a).parseSlice(Zt(r),t.parseOptions):Be.fromSchema(a).parse(Zt(r),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=Be.fromSchema(e);return t.slice?i.parseSlice(Zt(r),t.parseOptions).content:i.parse(Zt(r),t.parseOptions)}return bn("",e,t)}function uf(r,e,t){const n=r.steps.length-1;if(n<e)return;const s=r.steps[n];if(!(s instanceof H||s instanceof j))return;const i=r.mapping.maps[n];let o=0;i.forEach((l,a,c,d)=>{o===0&&(o=d)}),r.setSelection(T.near(r.doc.resolve(o),t))}const ff=r=>!("type"in r),hf=(r,e,t)=>({tr:n,dispatch:s,editor:i})=>{var o;if(s){t={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let l;try{l=bn(e,i.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(p){return i.emit("contentError",{editor:i,error:p,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:a,to:c}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},d=!0,u=!0;if((ff(l)?l:[l]).forEach(p=>{p.check(),d=d?p.isText&&p.marks.length===0:!1,u=u?p.isBlock:!1}),a===c&&u){const{parent:p}=n.doc.resolve(a);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(a-=1,c+=1)}let h;d?(Array.isArray(e)?h=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?h=e.text:h=e,n.insertText(h,a,c)):(h=l,n.replaceWith(a,c,h)),t.updateSelection&&uf(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:a,text:h}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:a,text:h})}return!0},pf=()=>({state:r,dispatch:e})=>hu(r,e),mf=()=>({state:r,dispatch:e})=>pu(r,e),gf=()=>({state:r,dispatch:e})=>No(r,e),yf=()=>({state:r,dispatch:e})=>Io(r,e),xf=()=>({state:r,dispatch:e,tr:t})=>{try{const n=wn(r.doc,r.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},bf=()=>({state:r,dispatch:e,tr:t})=>{try{const n=wn(r.doc,r.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},kf=()=>({state:r,dispatch:e})=>uu(r,e),Vf=()=>({state:r,dispatch:e})=>fu(r,e);function Ko(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function wf(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,s,i,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))jr()||Ko()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return n&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),i&&(t=`Shift-${t}`),t}const Cf=r=>({editor:e,view:t,tr:n,dispatch:s})=>{const i=wf(r).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,l))});return a==null||a.steps.forEach(c=>{const d=c.map(n.mapping);d&&s&&n.maybeStep(d)}),!0};function Lt(r,e,t={}){const{from:n,to:s,empty:i}=r.selection,o=e?q(e,r.schema):null,l=[];r.doc.nodesBetween(n,s,(u,f)=>{if(u.isText)return;const h=Math.max(n,f),p=Math.min(s,f+u.nodeSize);l.push({node:u,from:h,to:p})});const a=s-n,c=l.filter(u=>o?o.name===u.node.type.name:!0).filter(u=>xn(u.node.attrs,t,{strict:!1}));return i?!!c.length:c.reduce((u,f)=>u+f.to-f.from,0)>=a}const Sf=(r,e={})=>({state:t,dispatch:n})=>{const s=q(r,t.schema);return Lt(t,s,e)?mu(t,n):!1},Mf=()=>({state:r,dispatch:e})=>zo(r,e),vf=r=>({state:e,dispatch:t})=>{const n=q(r,e.schema);return vu(n)(e,t)},Tf=()=>({state:r,dispatch:e})=>Po(r,e);function In(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function Zs(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((n,s)=>(t.includes(s)||(n[s]=r[s]),n),{})}const Of=(r,e)=>({tr:t,state:n,dispatch:s})=>{let i=null,o=null;const l=In(typeof r=="string"?r:r.name,n.schema);return l?(l==="node"&&(i=q(r,n.schema)),l==="mark"&&(o=We(r,n.schema)),s&&t.selection.ranges.forEach(a=>{n.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,d)=>{i&&i===c.type&&t.setNodeMarkup(d,void 0,Zs(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(u=>{o===u.type&&t.addMark(d,d+c.nodeSize,o.create(Zs(u.attrs,e)))})})}),!0):!1},Nf=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),Af=()=>({tr:r,commands:e})=>e.setTextSelection({from:0,to:r.doc.content.size}),Ef=()=>({state:r,dispatch:e})=>Eo(r,e),Df=()=>({state:r,dispatch:e})=>Ro(r,e),If=()=>({state:r,dispatch:e})=>bu(r,e),Rf=()=>({state:r,dispatch:e})=>wu(r,e),Pf=()=>({state:r,dispatch:e})=>Vu(r,e);function kr(r,e,t={},n={}){return bn(r,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}const Bf=(r,e=!1,t={},n={})=>({editor:s,tr:i,dispatch:o,commands:l})=>{var a,c;const{doc:d}=i;if(t.preserveWhitespace!=="full"){const u=kr(r,s.schema,t,{errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck});return o&&i.replaceWith(0,d.content.size,u).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:d.content.size},r,{parseOptions:t,errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function Uo(r,e){const t=We(e,r.schema),{from:n,to:s,empty:i}=r.selection,o=[];i?(r.storedMarks&&o.push(...r.storedMarks),o.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,s,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===t.name);return l?{...l.attrs}:{}}function zf(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Lf(r,e){for(let t=r.depth;t>0;t-=1){const n=r.node(t);if(e(n))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:n}}}function Wr(r){return e=>Lf(e.$from,r)}function $f(r,e){const t=it.fromSchema(e).serializeFragment(r),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}function Ff(r,e){const t={from:0,to:r.content.size};return Ho(r,t,e)}function _f(r,e){const t=q(e,r.schema),{from:n,to:s}=r.selection,i=[];r.doc.nodesBetween(n,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===t.name);return o?{...o.attrs}:{}}function Hf(r,e){const t=In(typeof e=="string"?e:e.name,r.schema);return t==="node"?_f(r,e):t==="mark"?Uo(r,e):{}}function Go(r,e,t){const n=[];return r===e?t.resolve(r).marks().forEach(s=>{const i=t.resolve(r),o=Hr(i,s.type);o&&n.push({mark:s,...o})}):t.nodesBetween(r,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),n}function tn(r,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const s=r.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}function Vr(r,e,t={}){const{empty:n,ranges:s}=r.selection,i=e?We(e,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(u=>i?i.name===u.type.name:!0).find(u=>xn(u.attrs,t,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:u,$to:f})=>{const h=u.pos,p=f.pos;r.doc.nodesBetween(h,p,(g,y)=>{if(!g.isText&&!g.marks.length)return;const x=Math.max(h,y),w=Math.min(p,y+g.nodeSize),N=w-x;o+=N,l.push(...g.marks.map(R=>({mark:R,from:x,to:w})))})}),o===0)return!1;const a=l.filter(u=>i?i.name===u.mark.type.name:!0).filter(u=>xn(u.mark.attrs,t,{strict:!1})).reduce((u,f)=>u+f.to-f.from,0),c=l.filter(u=>i?u.mark.type!==i&&u.mark.type.excludes(i):!0).reduce((u,f)=>u+f.to-f.from,0);return(a>0?a+c:a)>=o}function jf(r,e,t={}){if(!e)return Lt(r,null,t)||Vr(r,null,t);const n=In(e,r.schema);return n==="node"?Lt(r,e,t):n==="mark"?Vr(r,e,t):!1}function Xs(r,e){const{nodeExtensions:t}=An(e),n=t.find(o=>o.name===r);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=O(C(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function qr(r,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((n=r.text)!==null&&n!==void 0?n:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let s=!0;return r.content.forEach(i=>{s!==!1&&(qr(i,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function Wf(r){return r instanceof S}function qf(r,e,t){var n;const{selection:s}=e;let i=null;if(Wo(s)&&(i=s.$cursor),i){const l=(n=r.storedMarks)!==null&&n!==void 0?n:i.marks();return!!t.isInSet(l)||!l.some(a=>a.type.excludes(t))}const{ranges:o}=s;return o.some(({$from:l,$to:a})=>{let c=l.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(l.pos,a.pos,(d,u,f)=>{if(c)return!1;if(d.isInline){const h=!f||f.type.allowsMarkType(t),p=!!t.isInSet(d.marks)||!d.marks.some(g=>g.type.excludes(t));c=h&&p}return!c}),c})}const Jf=(r,e={})=>({tr:t,state:n,dispatch:s})=>{const{selection:i}=t,{empty:o,ranges:l}=i,a=We(r,n.schema);if(s)if(o){const c=Uo(n,a);t.addStoredMark(a.create({...c,...e}))}else l.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;n.doc.nodesBetween(d,u,(f,h)=>{const p=Math.max(h,d),g=Math.min(h+f.nodeSize,u);f.marks.find(x=>x.type===a)?f.marks.forEach(x=>{a===x.type&&t.addMark(p,g,a.create({...x.attrs,...e}))}):t.addMark(p,g,a.create(e))})});return qf(n,t,a)},Kf=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),Uf=(r,e={})=>({state:t,dispatch:n,chain:s})=>{const i=q(r,t.schema);return i.isTextblock?s().command(({commands:o})=>Ks(i,e)(t)?!0:o.clearNodes()).command(({state:o})=>Ks(i,e)(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Gf=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,s=Ge(r,0,n.content.size),i=S.create(n,s);e.setSelection(i)}return!0},Yf=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:s,to:i}=typeof r=="number"?{from:r,to:r}:r,o=v.atStart(n).from,l=v.atEnd(n).to,a=Ge(s,o,l),c=Ge(i,o,l),d=v.create(n,a,c);e.setSelection(d)}return!0},Zf=r=>({state:e,dispatch:t})=>{const n=q(r,e.schema);return Nu(n)(e,t)};function Qs(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const n=t.filter(s=>e==null?void 0:e.includes(s.type.name));r.tr.ensureMarks(n)}}const Xf=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:n,editor:s})=>{const{selection:i,doc:o}=e,{$from:l,$to:a}=i,c=s.extensionManager.attributes,d=tn(c,l.node().type.name,l.node().attrs);if(i instanceof S&&i.node.isBlock)return!l.parentOffset||!ve(o,l.pos)?!1:(n&&(r&&Qs(t,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const u=a.parentOffset===a.parent.content.size,f=l.depth===0?void 0:zf(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=u&&f?[{type:f,attrs:d}]:void 0,p=ve(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&ve(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:d}]:void 0),n){if(p&&(i instanceof v&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,h),f&&!u&&!l.parentOffset&&l.parent.type!==f)){const g=e.mapping.map(l.before()),y=e.doc.resolve(g);l.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}r&&Qs(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return p},Qf=(r,e={})=>({tr:t,state:n,dispatch:s,editor:i})=>{var o;const l=q(r,n.schema),{$from:a,$to:c}=n.selection,d=n.selection.node;if(d&&d.isBlock||a.depth<2||!a.sameParent(c))return!1;const u=a.node(-1);if(u.type!==l)return!1;const f=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(s){let x=b.empty;const w=a.index(-1)?1:a.index(-2)?2:3;for(let X=a.depth-w;X>=a.depth-3;X-=1)x=b.from(a.node(X).copy(x));const N=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,R={...tn(f,a.node().type.name,a.node().attrs),...e},B=((o=l.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(R))||void 0;x=x.append(b.from(l.createAndFill(null,B)||void 0));const D=a.before(a.depth-(w-1));t.replace(D,a.after(-N),new k(x,4-w,0));let se=-1;t.doc.nodesBetween(D,t.doc.content.size,(X,E)=>{if(se>-1)return!1;X.isTextblock&&X.content.size===0&&(se=E+1)}),se>-1&&t.setSelection(v.near(t.doc.resolve(se))),t.scrollIntoView()}return!0}const h=c.pos===a.end()?u.contentMatchAt(0).defaultType:null,p={...tn(f,u.type.name,u.attrs),...e},g={...tn(f,a.node().type.name,a.node().attrs),...e};t.delete(a.pos,c.pos);const y=h?[{type:l,attrs:p},{type:h,attrs:g}]:[{type:l,attrs:p}];if(!ve(t.doc,a.pos,2))return!1;if(s){const{selection:x,storedMarks:w}=n,{splittableMarks:N}=i.extensionManager,R=w||x.$to.parentOffset&&x.$from.marks();if(t.split(a.pos,2,y).scrollIntoView(),!R||!s)return!0;const B=R.filter(D=>N.includes(D.type.name));t.ensureMarks(B)}return!0},Zn=(r,e)=>{const t=Wr(o=>o.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const s=r.doc.nodeAt(n);return t.node.type===(s==null?void 0:s.type)&&He(r.doc,t.pos)&&r.join(t.pos),!0},Xn=(r,e)=>{const t=Wr(o=>o.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const s=r.doc.nodeAt(n);return t.node.type===(s==null?void 0:s.type)&&He(r.doc,n)&&r.join(n),!0},eh=(r,e,t,n={})=>({editor:s,tr:i,state:o,dispatch:l,chain:a,commands:c,can:d})=>{const{extensions:u,splittableMarks:f}=s.extensionManager,h=q(r,o.schema),p=q(e,o.schema),{selection:g,storedMarks:y}=o,{$from:x,$to:w}=g,N=x.blockRange(w),R=y||g.$to.parentOffset&&g.$from.marks();if(!N)return!1;const B=Wr(D=>Xs(D.type.name,u))(g);if(N.depth>=1&&B&&N.depth-B.depth<=1){if(B.node.type===h)return c.liftListItem(p);if(Xs(B.node.type.name,u)&&h.validContent(B.node.content)&&l)return a().command(()=>(i.setNodeMarkup(B.pos,h),!0)).command(()=>Zn(i,h)).command(()=>Xn(i,h)).run()}return!t||!R||!l?a().command(()=>d().wrapInList(h,n)?!0:c.clearNodes()).wrapInList(h,n).command(()=>Zn(i,h)).command(()=>Xn(i,h)).run():a().command(()=>{const D=d().wrapInList(h,n),se=R.filter(X=>f.includes(X.type.name));return i.ensureMarks(se),D?!0:c.clearNodes()}).wrapInList(h,n).command(()=>Zn(i,h)).command(()=>Xn(i,h)).run()},th=(r,e={},t={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=t,o=We(r,n.schema);return Vr(n,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},nh=(r,e,t={})=>({state:n,commands:s})=>{const i=q(r,n.schema),o=q(e,n.schema),l=Lt(n,i,t);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),l?s.setNode(o,a):s.setNode(i,{...a,...t})},rh=(r,e={})=>({state:t,commands:n})=>{const s=q(r,t.schema);return Lt(t,s,e)?n.lift(s):n.wrapIn(s,e)},sh=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let n=0;n<t.length;n+=1){const s=t[n];let i;if(s.spec.isInputRules&&(i=s.getState(r))){if(e){const o=r.tr,l=i.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(i.text){const a=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,r.schema.text(i.text,a))}else o.delete(i.from,i.to)}return!0}}return!1},ih=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:n,ranges:s}=t;return n||e&&s.forEach(i=>{r.removeMark(i.$from.pos,i.$to.pos)}),!0},oh=(r,e={})=>({tr:t,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=t,a=We(r,n.schema),{$from:c,empty:d,ranges:u}=l;if(!s)return!0;if(d&&o){let{from:f,to:h}=l;const p=(i=c.marks().find(y=>y.type===a))===null||i===void 0?void 0:i.attrs,g=Hr(c,a,p);g&&(f=g.from,h=g.to),t.removeMark(f,h,a)}else u.forEach(f=>{t.removeMark(f.$from.pos,f.$to.pos,a)});return t.removeStoredMark(a),!0},lh=(r,e={})=>({tr:t,state:n,dispatch:s})=>{let i=null,o=null;const l=In(typeof r=="string"?r:r.name,n.schema);return l?(l==="node"&&(i=q(r,n.schema)),l==="mark"&&(o=We(r,n.schema)),s&&t.selection.ranges.forEach(a=>{const c=a.$from.pos,d=a.$to.pos;n.doc.nodesBetween(c,d,(u,f)=>{i&&i===u.type&&t.setNodeMarkup(f,void 0,{...u.attrs,...e}),o&&u.marks.length&&u.marks.forEach(h=>{if(o===h.type){const p=Math.max(f,c),g=Math.min(f+u.nodeSize,d);t.addMark(p,g,o.create({...h.attrs,...e}))}})})}),!0):!1},ah=(r,e={})=>({state:t,dispatch:n})=>{const s=q(r,t.schema);return Cu(s,e)(t,n)},ch=(r,e={})=>({state:t,dispatch:n})=>{const s=q(r,t.schema);return Su(s,e)(t,n)};var dh=Object.freeze({__proto__:null,blur:Ju,clearContent:Ku,clearNodes:Uu,command:Gu,createParagraphNear:Yu,cut:Zu,deleteCurrentNode:Xu,deleteNode:Qu,deleteRange:ef,deleteSelection:tf,enter:nf,exitCode:rf,extendMarkRange:of,first:lf,focus:af,forEach:cf,insertContent:df,insertContentAt:hf,joinBackward:gf,joinDown:mf,joinForward:yf,joinItemBackward:xf,joinItemForward:bf,joinTextblockBackward:kf,joinTextblockForward:Vf,joinUp:pf,keyboardShortcut:Cf,lift:Sf,liftEmptyBlock:Mf,liftListItem:vf,newlineInCode:Tf,resetAttributes:Of,scrollIntoView:Nf,selectAll:Af,selectNodeBackward:Ef,selectNodeForward:Df,selectParentNode:If,selectTextblockEnd:Rf,selectTextblockStart:Pf,setContent:Bf,setMark:Jf,setMeta:Kf,setNode:Uf,setNodeSelection:Gf,setTextSelection:Yf,sinkListItem:Zf,splitBlock:Xf,splitListItem:Qf,toggleList:eh,toggleMark:th,toggleNode:nh,toggleWrap:rh,undoInputRule:sh,unsetAllMarks:ih,unsetMark:oh,updateAttributes:lh,wrapIn:ah,wrapInList:ch});const uh=re.create({name:"commands",addCommands(){return{...dh}}}),fh=re.create({name:"drop",addProseMirrorPlugins(){return[new le({key:new we("tiptapDrop"),props:{handleDrop:(r,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),hh=re.create({name:"editable",addProseMirrorPlugins(){return[new le({key:new we("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ph=re.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new le({key:new we("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),mh=re.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:d,$anchor:u}=a,{pos:f,parent:h}=u,p=u.parent.isTextblock&&f>0?l.doc.resolve(f-1):u,g=p.parent.type.spec.isolating,y=u.pos-u.parentOffset,x=g&&p.parent.childCount===1?y===u.pos:T.atStart(c).from===f;return!d||!h.type.isTextblock||h.textContent.length||!x||x&&u.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return jr()||Ko()?i:s},addProseMirrorPlugins(){return[new le({key:new we("clearDocument"),appendTransaction:(r,e,t)=>{const n=r.some(g=>g.docChanged)&&!e.doc.eq(t.doc),s=r.some(g=>g.getMeta("preventClearDocument"));if(!n||s)return;const{empty:i,from:o,to:l}=e.selection,a=T.atStart(e.doc).from,c=T.atEnd(e.doc).to;if(i||!(o===a&&l===c)||!qr(t.doc))return;const f=t.tr,h=On({state:t,transaction:f}),{commands:p}=new Nn({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),gh=re.create({name:"paste",addProseMirrorPlugins(){return[new le({key:new we("tiptapPaste"),props:{handlePaste:(r,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),yh=re.create({name:"tabindex",addProseMirrorPlugins(){return[new le({key:new we("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Je{get name(){return this.node.type.name}constructor(e,t,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Je(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Je(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Je(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const s=t.isBlock&&!t.isTextblock,i=t.isAtom&&!t.isText,o=this.pos+n+(i?0:1),l=this.resolvedPos.doc.resolve(o);if(!s&&l.depth<=this.depth)return;const a=new Je(l,this.editor,s,s?t:null);s&&(a.actualDepth=this.depth+1),e.push(new Je(l,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(t).length>0){const i=s.node.attrs,o=Object.keys(t);for(let l=0;l<o.length;l+=1){const a=o[l];if(i[a]!==t[a])break}}else n=s;s=s.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(t);return this.children.forEach(o=>{n&&s.length>0||(o.node.type.name===e&&i.every(a=>t[a]===o.node.attrs[a])&&s.push(o),!(n&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,t,n))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const xh=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function bh(r,e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(s),s}let kh=class extends Au{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:n,moved:s})=>this.options.onDrop(t,n,s)),this.on("paste",({event:t,slice:n})=>this.options.onPaste(t,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=bh(xh,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=_o(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=t.filter(l=>!l.key.startsWith(o))}),t.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[hh,qu.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),uh,ph,mh,yh,fh,gh].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new ft(s,this)}createCommandManager(){this.commandManager=new Nn({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=kr(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=kr(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const t=qo(e,this.options.autofocus);this.view=new tu(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ut.create({doc:e,selection:t||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Hf(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return jf(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return $f(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return Ff(this.state.doc,{blockSeparator:t,textSerializers:{...jo(this.schema),...n}})}get isEmpty(){return qr(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Je(t,this)}get $doc(){return this.$pos(0)}};function kt(r){return new En({find:r.find,handler:({state:e,range:t,match:n})=>{const s=O(r.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,o=n[n.length-1],l=n[0];if(o){const a=l.search(/\S/),c=t.from+l.indexOf(o),d=c+o.length;if(Go(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===r.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;d<t.to&&i.delete(d,t.to),c>t.from&&i.delete(t.from+a,c);const f=t.from+a+o.length;i.addMark(t.from+a,f,r.type.create(s||{})),i.removeStoredMark(r.type)}}})}function Vh(r){return new En({find:r.find,handler:({state:e,range:t,match:n})=>{const s=O(r.getAttributes,void 0,n)||{},{tr:i}=e,o=t.from;let l=t.to;const a=r.type.create(s);if(n[1]){const c=n[0].lastIndexOf(n[1]);let d=o+c;d>l?d=l:l=d+n[1].length;const u=n[0][n[0].length-1];i.insertText(u,o+n[0].length-1),i.replaceWith(d,l,a)}else if(n[0]){const c=r.type.isInline?o:o-1;i.insert(c,r.type.create(s)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()}})}function wr(r){return new En({find:r.find,handler:({state:e,range:t,match:n})=>{const s=e.doc.resolve(t.from),i=O(r.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,i)}})}function $t(r){return new En({find:r.find,handler:({state:e,range:t,match:n,chain:s})=>{const i=O(r.getAttributes,void 0,n)||{},o=e.tr.delete(t.from,t.to),a=o.doc.resolve(t.from).blockRange(),c=a&&vr(a,r.type,i);if(!c)return null;if(o.wrap(a,c),r.keepMarks&&r.editor){const{selection:u,storedMarks:f}=e,{splittableMarks:h}=r.editor.extensionManager,p=f||u.$to.parentOffset&&u.$from.marks();if(p){const g=p.filter(y=>h.includes(y.type.name));o.ensureMarks(g)}}if(r.keepAttributes){const u=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(u,i).run()}const d=o.doc.resolve(t.from-1).nodeBefore;d&&d.type===r.type&&He(o.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(n,d))&&o.join(t.from-1)}})}class oe{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=O(C(this,"addOptions",{name:this.name}))),this.storage=O(C(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new oe(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Dn(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new oe(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=O(C(t,"addOptions",{name:t.name})),t.storage=O(C(t,"addStorage",{name:t.name,options:t.options})),t}}function Vt(r){return new $u({find:r.find,handler:({state:e,range:t,match:n,pasteEvent:s})=>{const i=O(r.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:o}=e,l=n[n.length-1],a=n[0];let c=t.to;if(l){const d=a.search(/\S/),u=t.from+a.indexOf(l),f=u+l.length;if(Go(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(y=>y===r.type&&y!==p.mark.type)).filter(p=>p.to>u).length)return null;f<t.to&&o.delete(f,t.to),u>t.from&&o.delete(t.from+d,u),c=t.from+d+l.length,o.addMark(t.from+d,c,r.type.create(i||{})),o.removeStoredMark(r.type)}}})}function ei(r){return ll((e,t)=>({get(){return e(),r},set(n){r=n,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}}))}class wh extends kh{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=ei(this.view.state),this.reactiveExtensionStorage=ei(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),al(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const n=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}}const Ch=cl({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(r){const e=Me(),t=hl();return ul(()=>{const n=r.editor;n&&n.options.element&&e.value&&fl(()=>{if(!e.value||!n.options.element.firstChild)return;const s=M(e.value);e.value.append(...n.options.element.childNodes),n.contentComponent=t.ctx._,t&&(n.appContext={...t.appContext,provides:t.provides}),n.setOptions({element:s}),n.createNodeViews()})}),Cr(()=>{const n=r.editor;n&&(n.contentComponent=null,n.appContext=null)}),{rootEl:e}},render(){return dl("div",{ref:r=>{this.rootEl=r}})}}),Sh=/^\s*>\s$/,Mh=oe.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",ne(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[$t({find:Sh,type:this.type})]}}),vh=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Th=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Oh=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Nh=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Ah=_e.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",ne(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[kt({find:vh,type:this.type}),kt({find:Oh,type:this.type})]},addPasteRules(){return[Vt({find:Th,type:this.type}),Vt({find:Nh,type:this.type})]}}),Eh="listItem",ti="textStyle",ni=/^\s*([-+*])\s$/,Dh=oe.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",ne(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Eh,this.editor.getAttributes(ti)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=$t({find:ni,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=$t({find:ni,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ti),editor:this.editor})),[r]}}),Ih=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,Rh=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,Ph=_e.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",ne(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[kt({find:Ih,type:this.type})]},addPasteRules(){return[Vt({find:Rh,type:this.type})]}}),Bh=/^```([a-z]+)?[\s\n]$/,zh=/^~~~([a-z]+)?[\s\n]$/,Lh=oe.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options,i=[...((e=r.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",ne(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:n,empty:s}=t;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:r.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:n}=e,{$from:s,empty:i}=t;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:n.nodeAt(l)?r.commands.command(({tr:c})=>(c.setSelection(T.near(n.resolve(l))),!0)):r.commands.exitCode()}}},addInputRules(){return[wr({find:Bh,type:this.type,getAttributes:r=>({language:r[1]})}),wr({find:zh,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new le({key:new we("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!t||!i)return!1;const{tr:o,schema:l}=r.state,a=l.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},a)),o.selection.$from.parent.type!==this.type&&o.setSelection(v.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),r.dispatch(o),!0}}})]}}),$h=oe.create({name:"doc",topNode:!0,content:"block+"});function Fh(r={}){return new le({view(e){return new _h(e,r)}})}class _h{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n;if(t){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let c=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(c){let d=c.getBoundingClientRect(),u=l?d.bottom:d.top;l&&a&&(u=(u+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:d.left,right:d.right,top:u-this.width/2,bottom:u+this.width/2}}}}if(!n){let l=this.editorView.coordsAtPos(this.cursorPos);n={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let l=s.getBoundingClientRect();i=l.left-s.scrollLeft,o=l.top-s.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!i){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=$i(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Hh=re.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Fh(this.options)]}});class z extends T{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return z.valid(n)?new z(n):T.near(n)}content(){return k.empty}eq(e){return e instanceof z&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new z(e.resolve(t.pos))}getBookmark(){return new Jr(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!jh(e)||!Wh(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&z.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(t>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=t;let a=e.doc.resolve(s);if(z.valid(a))return a}for(;;){let o=t>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!S.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*t),n=!1;continue e}break}i=o,s+=t;let l=e.doc.resolve(s);if(z.valid(l))return l}return null}}}z.prototype.visible=!1;z.findFrom=z.findGapCursorFrom;T.jsonID("gapcursor",z);class Jr{constructor(e){this.pos=e}map(e){return new Jr(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return z.valid(t)?new z(t):T.near(t)}}function jh(r){for(let e=r.depth;e>=0;e--){let t=r.index(e),n=r.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Wh(r){for(let e=r.depth;e>=0;e--){let t=r.indexAfter(e),n=r.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function qh(){return new le({props:{decorations:Gh,createSelectionBetween(r,e,t){return e.pos==t.pos&&z.valid(t)?new z(t):null},handleClick:Kh,handleKeyDown:Jh,handleDOMEvents:{beforeinput:Uh}}})}const Jh=To({ArrowLeft:Xt("horiz",-1),ArrowRight:Xt("horiz",1),ArrowUp:Xt("vert",-1),ArrowDown:Xt("vert",1)});function Xt(r,e){const t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let o=n.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof v){if(!i.endOfTextblock(t)||l.depth==0)return!1;a=!1,l=n.doc.resolve(e>0?l.after():l.before())}let c=z.findGapCursorFrom(l,e,a);return c?(s&&s(n.tr.setSelection(new z(c))),!0):!1}}function Kh(r,e,t){if(!r||!r.editable)return!1;let n=r.state.doc.resolve(e);if(!z.valid(n))return!1;let s=r.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&S.isSelectable(r.state.doc.nodeAt(s.inside))?!1:(r.dispatch(r.state.tr.setSelection(new z(n))),!0)}function Uh(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof z))return!1;let{$from:t}=r.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(r.state.schema.nodes.text);if(!n)return!1;let s=b.empty;for(let o=n.length-1;o>=0;o--)s=b.from(n[o].createAndFill(null,s));let i=r.state.tr.replace(t.pos,t.pos,new k(s,0,0));return i.setSelection(v.near(i.doc.resolve(t.pos+1))),r.dispatch(i),!1}function Gh(r){if(!(r.selection instanceof z))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",_.create(r.doc,[ue.widget(r.selection.head,e,{key:"gapcursor"})])}const Yh=re.create({name:"gapCursor",addProseMirrorPlugins(){return[qh()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=O(C(r,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),Zh=oe.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",ne(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:n})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:s,storedMarks:i}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=n.extensionManager,a=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&a&&o){const u=a.filter(f=>l.includes(f.type.name));c.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Xh=oe.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,ne(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>wr({find:new RegExp(`^(#{1,${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var kn=200,W=function(){};W.prototype.append=function(e){return e.length?(e=W.from(e),!this.length&&e||e.length<kn&&this.leafAppend(e)||this.length<kn&&e.leafPrepend(this)||this.appendInner(e)):this};W.prototype.prepend=function(e){return e.length?W.from(e).append(this):this};W.prototype.appendInner=function(e){return new Qh(this,e)};W.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?W.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};W.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};W.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};W.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},t,n),s};W.from=function(e){return e instanceof W?e:e&&e.length?new Yo(e):W.empty};var Yo=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,l){for(var a=i;a<o;a++)if(s(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,l){for(var a=i-1;a>=o;a--)if(s(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=kn)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=kn)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(W);W.empty=new Yo([]);var Qh=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(n,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(n,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(n,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(n,Math.min(s,l),i,o)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(W);const ep=500;class ge{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;t&&(s=this.remapping(n,this.items.length),i=s.maps.length);let o=e.tr,l,a,c=[],d=[];return this.items.forEach((u,f)=>{if(!u.step){s||(s=this.remapping(n,f+1),i=s.maps.length),i--,d.push(u);return}if(s){d.push(new xe(u.map));let h=u.step.map(s.slice(i)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new xe(p,void 0,void 0,c.length+d.length))),i--,p&&s.appendMap(p,i)}else o.maybeStep(u.step);if(u.selection)return l=s?u.selection.map(s.slice(i)):u.selection,a=new ge(this.items.slice(0,n).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,t,n,s){let i=[],o=this.eventCount,l=this.items,a=!s&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let u=e.steps[d].invert(e.docs[d]),f=new xe(e.mapping.maps[d],u,t),h;(h=a&&a.merge(f))&&(f=h,d?i.pop():l=l.slice(0,l.length-1)),i.push(f),t&&(o++,t=void 0),s||(a=f)}let c=o-n.depth;return c>np&&(l=tp(l,c),o-=c),new ge(l.append(i),o)}remapping(e,t){let n=new ht;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new ge(this.items.append(e.map(t=>new xe(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},s);let a=t;this.items.forEach(f=>{let h=i.getMirror(--a);if(h==null)return;o=Math.min(o,h);let p=i.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),y=f.selection&&f.selection.map(i.slice(a+1,h));y&&l++,n.push(new xe(p,g,y))}else n.push(new xe(p))},s);let c=[];for(let f=t;f<o;f++)c.push(new xe(i.maps[f]));let d=this.items.slice(0,s).append(c).append(n),u=new ge(d,l);return u.emptyItemCount()>ep&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)s.push(o),o.selection&&i++;else if(o.step){let a=o.step.map(t.slice(n)),c=a&&a.getMap();if(n--,c&&t.appendMap(c,n),a){let d=o.selection&&o.selection.map(t.slice(n));d&&i++;let u=new xe(c.invert(),a,d),f,h=s.length-1;(f=s.length&&s[h].merge(u))?s[h]=f:s.push(u)}}else o.map&&n--},this.items.length,0),new ge(W.from(s.reverse()),i)}}ge.empty=new ge(W.empty,0);function tp(r,e){let t;return r.forEach((n,s)=>{if(n.selection&&e--==0)return t=s,!1}),r.slice(t)}class xe{constructor(e,t,n,s){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new xe(t.getMap().invert(),t,this.selection)}}}class Ee{constructor(e,t,n,s,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const np=20;function rp(r,e,t,n){let s=t.getMeta(tt),i;if(s)return s.historyState;t.getMeta(op)&&(r=new Ee(r.done,r.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta(tt))return o.getMeta(tt).redo?new Ee(r.done.addTransform(t,void 0,n,nn(e)),r.undone,ri(t.mapping.maps),r.prevTime,r.prevComposition):new Ee(r.done,r.undone.addTransform(t,void 0,n,nn(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),a=r.prevTime==0||!o&&r.prevComposition!=l&&(r.prevTime<(t.time||0)-n.newGroupDelay||!sp(t,r.prevRanges)),c=o?Qn(r.prevRanges,t.mapping):ri(t.mapping.maps);return new Ee(r.done.addTransform(t,a?e.selection.getBookmark():void 0,n,nn(e)),ge.empty,c,t.time,l??r.prevComposition)}else return(i=t.getMeta("rebased"))?new Ee(r.done.rebased(t,i),r.undone.rebased(t,i),Qn(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Ee(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Qn(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function sp(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(t=!0)}),t}function ri(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,s,i,o)=>e.push(i,o));return e}function Qn(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let s=e.map(r[n],1),i=e.map(r[n+1],-1);s<=i&&t.push(s,i)}return t}function ip(r,e,t){let n=nn(e),s=tt.get(e).spec.config,i=(t?r.undone:r.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(t?r.done:r.undone).addTransform(i.transform,e.selection.getBookmark(),s,n),a=new Ee(t?l:i.remaining,t?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(tt,{redo:t,historyState:a})}let er=!1,si=null;function nn(r){let e=r.plugins;if(si!=e){er=!1,si=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){er=!0;break}}return er}const tt=new we("history"),op=new we("closeHistory");function lp(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new le({key:tt,state:{init(){return new Ee(ge.empty,ge.empty,null,0,-1)},apply(e,t,n){return rp(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,s=n=="historyUndo"?Xo:n=="historyRedo"?Qo:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function Zo(r,e){return(t,n)=>{let s=tt.getState(t);if(!s||(r?s.undone:s.done).eventCount==0)return!1;if(n){let i=ip(s,t,r);i&&n(e?i.scrollIntoView():i)}return!0}}const Xo=Zo(!1,!0),Qo=Zo(!0,!0),ap=re.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>Xo(r,e),redo:()=>({state:r,dispatch:e})=>Qo(r,e)}},addProseMirrorPlugins(){return[lp(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),cp=oe.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",ne(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{const{selection:t}=e,{$from:n,$to:s}=t,i=r();return n.parentOffset===0?i.insertContentAt({from:Math.max(n.pos-1,0),to:s.pos},{type:this.name}):Wf(t)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:l})=>{var a;if(l){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(v.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(S.create(o.doc,c.pos)):o.setSelection(v.create(o.doc,c.pos));else{const u=(a=c.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();u&&(o.insert(d,u),o.setSelection(v.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Vh({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),dp=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,up=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,fp=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,hp=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,pp=_e.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",ne(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kt({find:dp,type:this.type}),kt({find:fp,type:this.type})]},addPasteRules(){return[Vt({find:up,type:this.type}),Vt({find:hp,type:this.type})]}}),mp=oe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",ne(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),gp="listItem",ii="textStyle",oi=/^(\d+)\.\s$/,yp=oe.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",ne(this.options.HTMLAttributes,t),0]:["ol",ne(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(gp,this.editor.getAttributes(ii)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=$t({find:oi,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=$t({find:oi,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(ii)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[r]}}),xp=oe.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",ne(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),bp=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,kp=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Vp=_e.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",ne(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kt({find:bp,type:this.type})]},addPasteRules(){return[Vt({find:kp,type:this.type})]}}),wp=oe.create({name:"text",group:"inline"}),Cp=re.create({name:"starterKit",addExtensions(){var r,e,t,n,s,i,o,l,a,c,d,u,f,h,p,g,y,x;const w=[];return this.options.bold!==!1&&w.push(Ah.configure((r=this.options)===null||r===void 0?void 0:r.bold)),this.options.blockquote!==!1&&w.push(Mh.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&w.push(Dh.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&w.push(Ph.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&w.push(Lh.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&w.push($h.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&w.push(Hh.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&w.push(Yh.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&w.push(Zh.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&w.push(Xh.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&w.push(ap.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&w.push(cp.configure((u=this.options)===null||u===void 0?void 0:u.horizontalRule)),this.options.italic!==!1&&w.push(pp.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&w.push(mp.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&w.push(yp.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&w.push(xp.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&w.push(Vp.configure((y=this.options)===null||y===void 0?void 0:y.strike)),this.options.text!==!1&&w.push(wp.configure((x=this.options)===null||x===void 0?void 0:x.text)),w}}),Sp={class:"editor-container"},Mp={class:"editor-toolbar"},vp={__name:"TiptapEditor",setup(r){const e=Me(null);return di(()=>{e.value=new wh({extensions:[Cp],content:"<p>Welcome to the WYSIWYG editor!</p>"})}),Cr(()=>{e.value&&e.value.destroy()}),(t,n)=>{var s,i,o,l,a,c,d;return L(),F("div",Sp,[m("div",Mp,[m("button",{class:pe(["btn",{active:(s=e.value)==null?void 0:s.isActive("bold")}]),onClick:n[0]||(n[0]=u=>e.value.chain().focus().toggleBold().run()),title:"Bold"},[V(M(Vl),{class:"size-4"})],2),m("button",{class:pe(["btn",{active:(i=e.value)==null?void 0:i.isActive("italic")}]),onClick:n[1]||(n[1]=u=>e.value.chain().focus().toggleItalic().run()),title:"Italic"},[V(M(Al),{class:"size-4"})],2),m("button",{class:pe(["btn",{active:(o=e.value)==null?void 0:o.isActive("strike")}]),onClick:n[2]||(n[2]=u=>e.value.chain().focus().toggleStrike().run()),title:"Strikethrough"},[V(M(Ll),{class:"size-4"})],2),m("button",{class:pe(["btn",{active:(l=e.value)==null?void 0:l.isActive("bulletList")}]),onClick:n[3]||(n[3]=u=>e.value.chain().focus().toggleBulletList().run()),title:"Bullet List"},[V(M(Il),{class:"size-4"})],2),m("button",{class:pe(["btn",{active:(a=e.value)==null?void 0:a.isActive("orderedList")}]),onClick:n[4]||(n[4]=u=>e.value.chain().focus().toggleOrderedList().run()),title:"Ordered List"},[V(M(El),{class:"size-4"})],2),m("button",{class:pe(["btn",{active:(c=e.value)==null?void 0:c.isActive("heading",{level:1})}]),onClick:n[5]||(n[5]=u=>e.value.chain().focus().toggleHeading({level:1}).run()),title:"Heading 1"},[V(M(Tl),{class:"size-4"})],2),m("button",{class:pe(["btn",{active:(d=e.value)==null?void 0:d.isActive("heading",{level:2})}]),onClick:n[6]||(n[6]=u=>e.value.chain().focus().toggleHeading({level:2}).run()),title:"Heading 2"},[V(M(Ol),{class:"size-4"})],2)]),m("div",{class:pe(["editor-content",{prose:!0}])},[V(M(Ch),{editor:e.value},null,8,["editor"])])])}}},Tp=Ft(vp,[["__scopeId","data-v-21a8e4ba"]]),Op={class:"relative"},Np={key:0,class:"flex flex-wrap gap-1.5"},Ap=["onClick"],Ep={key:1,class:"text-sm text-gray-400 inline-block p-[5px]"},Dp={class:"ml-auto"},Ip={key:0,class:"absolute left-0 right-0 z-10 mt-1 p-1 bg-white border rounded-lg shadow-md max-h-48 overflow-y-auto"},Rp=["onClick"],Pp={__name:"DsMultiSelect",props:{options:{type:Array,required:!0},modelValue:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select options..."},width:{type:String,default:"w-full"}},emits:["update:modelValue"],setup(r,{emit:e}){const t=r,n=e,s=Me(""),i=Me({}),o=Me(null);Kr(()=>t.width,h=>{h.startsWith("w-")||h==="w-full"?(s.value=h,i.value={}):(s.value="",i.value={width:h})},{immediate:!0});const l=Me([...t.modelValue]),a=Me(!1);Kr(()=>t.modelValue,h=>{l.value=[...h]},{immediate:!0});const c=()=>{a.value=!a.value},d=h=>{l.value.includes(h)||(l.value.push(h),n("update:modelValue",[...l.value]))},u=h=>{l.value.splice(h,1),n("update:modelValue",[...l.value])},f=h=>{o.value&&!o.value.contains(h.target)&&(a.value=!1)};return di(()=>{document.addEventListener("click",f)}),Cr(()=>{document.removeEventListener("click",f)}),(h,p)=>(L(),F("div",{ref_key:"dropdownRef",ref:o,class:pe(s.value),style:gl(i.value)},[m("div",Op,[m("div",{onClick:c,class:"flex items-center gap-2 py-[7px] px-2 border rounded-lg cursor-pointer bg-white"},[l.value.length?(L(),F("div",Np,[(L(!0),F(rn,null,tr(l.value,(g,y)=>(L(),F("div",{key:g,class:"flex flex-nowrap items-center relative z-10 bg-white border border-gray-200 rounded-full p-1 pl-2.5 text-gray-800 text-sm"},[A(Rn(g)+" ",1),m("button",{onClick:pl(x=>u(y),["stop"]),class:"inline-flex shrink-0 justify-center items-center size-5 ms-2 rounded-full text-gray-800 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 text-sm text-blue-500 hover:text-blue-800",title:"Remove"},[V(M(ai),{class:"size-3"})],8,Ap)]))),128))])):qt("",!0),l.value.length?qt("",!0):(L(),F("span",Ep,Rn(r.placeholder),1)),m("div",Dp,[V(M(at),{class:pe(["size-4 text-gray-400 transition-transform",{"rotate-180":a.value}])},null,8,["class"])])]),a.value?(L(),F("ul",Ip,[(L(!0),F(rn,null,tr(r.options,g=>(L(),F("li",{key:g,class:"flex items-center justify-between text-sm px-4 py-2 cursor-pointer rounded-md hover:bg-gray-100",onClick:y=>d(g)},[m("span",null,Rn(g),1),l.value.includes(g)?(L(),ml(M(tl),{key:0,class:"w-4 h-4 text-green-500"})):qt("",!0)],8,Rp))),128))])):qt("",!0)])],6))}},Bp=Ft(Pp,[["__scopeId","data-v-80c3787e"]]),zp={class:"w-full xl:ps-64"},Lp={class:"p-4 sm:p-6 space-y-3 sm:space-y-4"},$p={class:"bg-white border border-gray-200 shadow-sm rounded-xl p-4 md:p-5 space-y-4 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400"},Fp={class:"flex items-center justify-between gap-3"},_p={class:"xl:w-full"},Hp={class:"inline-flex bg-gray-100 hover:bg-gray-200 rounded-lg transition p-1 dark:bg-neutral-700 dark:hover:bg-neutral-600"},jp={class:"flex gap-x-1","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},Wp={type:"button",class:"hs-tab-active:bg-white hs-tab-active:text-gray-700 hs-tab-active:dark:bg-neutral-800 hs-tab-active:dark:text-neutral-400 dark:hs-tab-active:bg-gray-800 p-2 inline-flex items-center gap-x-2 bg-transparent text-sm text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-700 font-medium rounded-md hover:hover:text-blue-600 disabled:opacity-50 disabled:pointer-events-none dark:text-neutral-400 dark:hover:text-white dark:focus:text-white active",id:"segment-item-1","aria-selected":"true","data-hs-tab":"#segment-1","aria-controls":"segment-1",role:"tab"},qp={type:"button",class:"hs-tab-active:bg-white hs-tab-active:text-gray-700 hs-tab-active:dark:bg-neutral-800 hs-tab-active:dark:text-neutral-400 dark:hs-tab-active:bg-gray-800 p-2 inline-flex items-center gap-x-2 bg-transparent text-sm text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-700 font-medium rounded-md hover:hover:text-blue-600 disabled:opacity-50 disabled:pointer-events-none dark:text-neutral-400 dark:hover:text-white dark:focus:text-white",id:"segment-item-2","aria-selected":"false","data-hs-tab":"#segment-2","aria-controls":"segment-2",role:"tab"},Jp={class:"w-full md:block hidden"},Kp={class:"xl:w-full flex justify-end gap-2"},Up={class:"md:hidden"},Gp={type:"button",class:"flex justify-center items-center p-2.5 rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-800 dark:focus:bg-neutral-800","aria-haspopup":"dialog","aria-expanded":"false","aria-controls":"hs-slide-down-animation-modal","data-hs-overlay":"#hs-slide-down-animation-modal"},Yp={id:"hs-slide-down-animation-modal",class:"hs-overlay hidden size-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none",role:"dialog",tabindex:"-1","aria-labelledby":"hs-slide-down-animation-modal-label"},Zp={class:"hs-overlay-animation-target hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto"},Xp={class:"flex flex-col p-4 bg-white border shadow-sm rounded-xl pointer-events-auto dark:bg-neutral-800 dark:border-neutral-700 dark:shadow-neutral-700/70"},Qp={type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white text-nowrap hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none","aria-haspopup":"dialog","aria-expanded":"false","aria-controls":"hs-offcanvas-right","data-hs-overlay":"#hs-offcanvas-right"},e1={id:"hs-offcanvas-right",class:"hs-overlay hs-overlay-open:translate-x-0 hidden translate-x-full fixed top-0 end-0 transition-all duration-300 transform h-full max-w-lg w-full z-[80] bg-white border-s dark:bg-neutral-800 dark:border-neutral-700",role:"dialog",tabindex:"-1","aria-labelledby":"hs-offcanvas-right-label"},t1={class:"flex justify-between items-center py-3 px-4 border-b dark:border-neutral-700"},n1={type:"button",class:"size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-400 dark:focus:bg-neutral-600","aria-label":"Close","data-hs-overlay":"#hs-offcanvas-right"},r1={class:"p-4 space-y-2"},s1={id:"segment-1",role:"tabpanel","aria-labelledby":"segment-item-1",class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},i1={id:"segment-2",class:"hidden",role:"tabpanel","aria-labelledby":"segment-item-2"},o1={__name:"AppContent",setup(r){const e=Me(["Section 1A","Section 2A","Section 3A","Section 4A","Section 5A"]),t=Me([]);return(n,s)=>{const i=Kl,o=ua,l=Ta;return L(),F("div",zp,[m("div",Lp,[m("div",$p,[m("div",Fp,[m("div",_p,[m("div",Hp,[m("nav",jp,[m("button",Wp,[s[1]||(s[1]=m("span",{class:"sr-only"},"Grid",-1)),V(M(Ml),{class:"shrink-0 size-4"})]),m("button",qp,[s[2]||(s[2]=m("span",{class:"sr-only"},"Table",-1)),V(M($l),{class:"shrink-0 size-4"})])])])]),m("div",Jp,[V(i)]),m("div",Kp,[m("div",Up,[m("button",Gp,[V(M(ui),{class:"shrink-0 size-4"})])]),m("div",Yp,[m("div",Zp,[m("div",Xp,[V(i)])])]),m("button",Qp,[s[3]||(s[3]=A(" CreatePost ")),V(M(Rl),{class:"shrink-0 size-4"})]),m("div",e1,[m("div",t1,[s[5]||(s[5]=m("h3",{id:"hs-offcanvas-right-label",class:"font-bold text-gray-800 dark:text-white"}," Create Post ",-1)),m("button",n1,[s[4]||(s[4]=m("span",{class:"sr-only"},"Close",-1)),V(M(ai),{class:"shrink-0 size-4"})])]),m("div",r1,[V(Bp,{modelValue:M(t),"onUpdate:modelValue":s[0]||(s[0]=a=>yl(t)?t.value=a:null),options:M(e),placeholder:"Select Sections"},null,8,["modelValue","options"]),V(Tp),s[6]||(s[6]=m("div",{class:"flex justify-end items-center gap-2"},[m("button",{type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 text-gray-500 hover:border-blue-600 hover:text-blue-600 focus:outline-none focus:border-blue-600 focus:text-blue-600 disabled:opacity-50 disabled:pointer-events-none dark:border-neutral-700 dark:text-neutral-400 dark:hover:text-blue-500 dark:hover:border-blue-600 dark:focus:text-blue-500 dark:focus:border-blue-600","aria-label":"Close","data-hs-overlay":"#hs-offcanvas-right"}," Cancel "),m("button",{type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none"}," Save ")],-1))])])])]),m("div",s1,[(L(),F(rn,null,tr(7,a=>m("span",null,[V(o)])),64))]),m("div",i1,[V(l)])])])])}}},l1={__name:"LMS",props:{className:{type:String,default:""}},setup(r){return(e,t)=>(L(),F("svg",{class:pe(r.className),viewBox:"0 0 166 165",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t[0]||(t[0]=[ci('<g clip-path="url(#clip0_374_48069)"><path d="M0.828125 82.2094C0.828125 36.8064 37.6345 0 83.0375 0C128.44 0 165.247 36.8064 165.247 82.2094C165.247 127.612 128.44 164.419 83.0375 164.419C37.6345 164.419 0.828125 127.612 0.828125 82.2094Z" fill="url(#paint0_linear_374_48069)"></path><path d="M85.6461 93.0709V93.0956M63.4414 63.4648V63.4895" stroke="#AADDFF" stroke-width="5.9326" stroke-linecap="round" stroke-linejoin="round"></path><path d="M107.851 63.4648V63.4895M75.7773 90.8504C72.4105 89.2082 69.5138 86.7409 67.3569 83.6782C65.2 80.6155 63.8531 77.0568 63.4414 73.3335" stroke="#FF5C5C" stroke-width="5.9326" stroke-linecap="round" stroke-linejoin="round"></path><path d="M95.5105 90.8533C98.8773 89.2111 101.774 86.7438 103.931 83.6811C106.088 80.6183 107.435 77.0597 107.846 73.3364M71.332 53.599C75.2995 50.3521 80.2683 48.5781 85.395 48.5781C90.5217 48.5781 95.4905 50.3521 99.458 53.599" stroke="#4386F5" stroke-width="5.9326" stroke-linecap="round" stroke-linejoin="round"></path><path d="M80.4061 76.1C79.0181 74.712 78.2383 72.8294 78.2383 70.8664C78.2383 68.9034 79.0181 67.0207 80.4061 65.6327C81.7942 64.2446 83.6768 63.4648 85.6398 63.4648C87.6029 63.4648 89.4855 64.2446 90.8735 65.6327C92.2616 67.0207 93.0414 68.9034 93.0414 70.8664C93.0414 72.8294 92.2616 74.712 90.8735 76.1C89.4855 77.4881 87.6029 78.2679 85.6398 78.2679C83.6768 78.2679 81.7942 77.4881 80.4061 76.1Z" stroke="#3847D3" stroke-width="5.9326" stroke-linecap="round" stroke-linejoin="round"></path><g filter="url(#filter0_i_374_48069)"><path d="M113.604 138.036H107.81C107.426 138.036 107.057 138.188 106.786 138.46C106.514 138.731 106.362 139.1 106.362 139.484C106.362 139.868 106.514 140.237 106.786 140.508C107.057 140.78 107.426 140.932 107.81 140.932H113.604C113.988 140.932 114.356 140.78 114.628 140.508C114.899 140.237 115.052 139.868 115.052 139.484C115.052 139.1 114.899 138.731 114.628 138.46C114.356 138.188 113.988 138.036 113.604 138.036ZM115.052 133.69H106.362C105.977 133.69 105.609 133.843 105.337 134.115C105.066 134.386 104.913 134.755 104.913 135.139C104.913 135.523 105.066 135.891 105.337 136.163C105.609 136.435 105.977 136.587 106.362 136.587H115.052C115.436 136.587 115.805 136.435 116.076 136.163C116.348 135.891 116.5 135.523 116.5 135.139C116.5 134.755 116.348 134.386 116.076 134.115C115.805 133.843 115.436 133.69 115.052 133.69ZM120.974 101.707C118.252 98.9814 114.606 97.4805 110.707 97.4805C108.803 97.476 106.918 97.8475 105.159 98.5738C103.399 99.3001 101.801 100.367 100.455 101.713C99.109 103.059 98.0423 104.657 97.316 106.416C96.5897 108.176 96.2182 110.061 96.2227 111.964C96.2227 116.185 97.8404 120.133 100.658 122.795L101.053 123.165C102.683 124.69 104.913 126.778 104.913 128.621V130.794C104.913 131.178 105.066 131.546 105.337 131.818C105.609 132.089 105.977 132.242 106.362 132.242H108.534C108.726 132.242 108.91 132.166 109.046 132.03C109.182 131.894 109.258 131.71 109.258 131.518V120.91C109.258 120.764 109.214 120.621 109.131 120.5C109.048 120.379 108.931 120.286 108.794 120.234C107.958 119.893 107.163 119.457 106.426 118.935C106.26 118.829 106.118 118.691 106.007 118.528C105.897 118.365 105.821 118.182 105.783 117.989C105.746 117.796 105.748 117.598 105.79 117.406C105.832 117.213 105.913 117.032 106.027 116.872C106.141 116.712 106.287 116.577 106.455 116.475C106.623 116.373 106.81 116.307 107.005 116.28C107.2 116.252 107.398 116.265 107.587 116.317C107.777 116.369 107.954 116.459 108.108 116.581C108.778 117.056 110.068 117.758 110.707 117.758C111.346 117.758 112.636 117.054 113.308 116.581C113.62 116.385 113.996 116.315 114.359 116.386C114.721 116.458 115.043 116.665 115.257 116.966C115.472 117.267 115.564 117.638 115.513 118.004C115.463 118.37 115.275 118.703 114.988 118.935C114.25 119.456 113.456 119.891 112.62 120.231C112.483 120.284 112.365 120.376 112.282 120.497C112.199 120.618 112.155 120.761 112.155 120.907V131.518C112.155 131.71 112.231 131.894 112.367 132.03C112.503 132.166 112.687 132.242 112.879 132.242H115.052C115.436 132.242 115.805 132.089 116.076 131.818C116.348 131.546 116.5 131.178 116.5 130.794V128.621C116.5 126.821 118.706 124.735 120.316 123.21L120.76 122.789C123.659 120.021 125.191 116.274 125.191 111.964C125.2 110.061 124.833 108.174 124.109 106.414C123.385 104.653 122.32 103.054 120.974 101.707Z" fill="#FF975C"></path></g><g filter="url(#filter1_i_374_48069)"><path fill-rule="evenodd" clip-rule="evenodd" d="M123.593 51.019C117.079 35.2424 102.38 27.4555 87.714 26.998C73.1021 26.5423 57.9902 33.3459 50.5388 47.3185C49.3493 49.5488 48.1165 51.9799 47.1934 54.5728C45.6645 58.8675 44.5516 65.4048 46.7995 72.2432L39.1418 84.6022L38.7255 85.2742L38.662 86.0621C38.4613 88.5514 39.9858 91.6035 43.5616 93.8194L43.1119 96.1493C42.9321 97.0806 43.1389 98.0634 43.7167 98.8543C44.0254 99.277 44.4899 99.8636 45.01 100.423L45.0493 100.465L44.782 101.327C44.3279 102.791 44.8589 104.368 46.0785 105.266C46.5174 105.589 47.078 106.024 47.5303 106.416V106.417V106.431V106.444V106.458V106.472V106.485V106.499V106.513V106.527V106.541V106.555V106.569V106.583V106.597V106.611V106.626V106.64V106.654V106.669V106.683V106.698V106.712V106.727V106.742V106.756V106.771V106.786V106.801V106.816V106.831V106.846V106.861V106.876V106.891V106.906V106.922V106.937V106.952V106.968V106.983V106.999V107.014V107.03V107.046V107.061V107.077V107.093V107.109V107.124V107.14V107.156V107.172V107.188V107.204V107.22V107.237V107.253V107.269V107.285V107.302V107.318V107.334V107.351V107.367V107.384V107.4V107.417V107.434V107.45V107.467V107.484V107.5V107.517V107.534V107.551V107.568V107.585V107.602V107.619V107.636V107.653V107.67V107.687V107.705V107.722V107.739V107.756V107.774V107.791V107.808V107.826V107.843V107.861V107.878V107.896V107.913V107.931V107.948V107.966V107.984V108.001V108.019V108.037V108.055V108.073V108.09V108.108V108.126V108.144V108.162V108.18V108.198V108.216V108.234V108.252V108.27V108.288V108.306V108.324V108.343V108.361V108.379V108.397V108.415V108.434V108.452V108.47V108.489V108.507V108.525V108.544V108.562V108.581V108.599V108.618V108.636V108.654V108.673V108.691V108.71V108.729V108.747V108.766V108.784V108.803V108.822V108.84V108.859V108.878V108.896V108.915V108.934V108.952V108.971V108.99V109.009V109.027V109.046V109.065V109.084V109.103V109.121V109.14V109.159V109.178V109.197V109.215V109.234V109.253V109.272V109.291V109.31V109.329V109.348V109.367V109.385V109.404V109.423V109.442V109.461V109.48V109.499V109.518V109.537V109.556V109.575V109.594V109.613V109.632V109.651V109.669V109.688V109.707V109.726V109.745V109.764V109.783V109.802V109.821V109.84V109.859V109.878V109.897V109.916V109.935V109.953V109.972V109.991V110.01V110.029V110.048V110.067V110.086V110.105V110.123V110.142V110.161V110.18V110.199V110.218V110.236V110.255V110.274V110.293V110.312V110.33V110.349V110.368V110.387V110.405V110.424V110.443V110.461V110.48V110.499V110.517V110.536V110.555V110.573V110.592V110.61V110.629V110.648V110.666V110.685V110.703V110.722V110.74V110.758V110.777V110.795V110.814V110.832V110.85V110.869V110.887V110.905V110.924V110.942V110.96V110.978V110.997V111.015V111.033V111.051V111.069V111.087V111.105V111.123V111.141V111.159V111.177V111.195V111.213V111.231V111.249V111.267V111.285V111.302V111.32V111.338V111.356V111.373V111.391V111.408V111.426V111.444V111.461V111.479V111.496V111.514V111.531V111.548V111.566V111.583V111.6V111.618V111.635V111.652V111.669V111.686V111.703V111.721V111.738V111.755V111.772V111.788V111.805V111.822V111.839V111.856V111.873V111.889V111.906V111.923V111.939V111.956V111.972V111.989V112.005V112.022V112.038V112.054V112.071V112.087V112.103V112.119V112.135V112.151V112.168V112.184V112.199V112.215V112.231V112.247V112.263V112.279V112.294V112.31V112.326V112.341V112.357V112.372V112.388V112.403V112.418V112.434V112.449V112.464V112.479V112.494V112.509V112.524V112.539V112.554V112.569V112.584V112.599V112.613V112.628V112.643V112.657V112.672V112.686V112.7V112.715V112.729V112.743V112.757V112.772V112.786V112.8V112.8C47.4726 114.596 48.4933 116.24 50.0793 117.27C51.6682 118.301 53.8258 118.767 56.5077 118.716C57.4864 118.698 58.6831 118.602 59.7918 118.512C60.3939 118.464 60.9701 118.418 61.4713 118.387C63.1051 118.287 64.5185 118.293 65.7239 118.531C66.8805 118.76 67.7136 119.178 68.3427 119.83C68.9801 120.491 69.6734 121.669 70.0466 123.887L70.0488 123.899L70.051 123.912L71.5308 132.303L71.7047 133.289L72.4007 134.009C73.9787 135.64 76.8596 136.825 80.5893 137.16C84.4415 137.506 89.5306 136.988 95.9589 134.836L93.8825 128.634C88.1217 130.562 83.9483 130.894 81.1744 130.645C79.7861 130.52 78.7678 130.252 78.0771 129.981C77.95 129.931 77.8373 129.883 77.7379 129.837L76.497 122.801L76.4948 122.788C75.9627 119.638 74.8275 117.131 73.0508 115.289C71.2633 113.436 69.0922 112.53 66.9946 112.115C64.9458 111.709 62.855 111.749 61.0718 111.858C60.2537 111.908 59.5523 111.966 58.9132 112.019L58.9128 112.019L58.9125 112.019C57.9951 112.096 57.206 112.161 56.3842 112.177C55.1991 112.199 54.4769 112.072 54.0714 111.955V111.939V111.923V111.906V111.889V111.873V111.856V111.839V111.822V111.805V111.788V111.772V111.755V111.738V111.721V111.703V111.686V111.669V111.652V111.635V111.618V111.6V111.583V111.566V111.548V111.531V111.514V111.496V111.479V111.461V111.444V111.426V111.408V111.391V111.373V111.356V111.338V111.32V111.302V111.285V111.267V111.249V111.231V111.213V111.195V111.177V111.159V111.141V111.123V111.105V111.087V111.069V111.051V111.033V111.015V110.997V110.978V110.96V110.942V110.924V110.905V110.887V110.869V110.85V110.832V110.814V110.795V110.777V110.758V110.74V110.722V110.703V110.685V110.666V110.648V110.629V110.61V110.592V110.573V110.555V110.536V110.517V110.499V110.48V110.461V110.443V110.424V110.405V110.387V110.368V110.349V110.33V110.312V110.293V110.274V110.255V110.236V110.218V110.199V110.18V110.161V110.142V110.123V110.105V110.086V110.067V110.048V110.029V110.01V109.991V109.972V109.953V109.935V109.916V109.897V109.878V109.859V109.84V109.821V109.802V109.783V109.764V109.745V109.726V109.707V109.688V109.669V109.651V109.632V109.613V109.594V109.575V109.556V109.537V109.518V109.499V109.48V109.461V109.442V109.423V109.404V109.385V109.367V109.348V109.329V109.31V109.291V109.272V109.253V109.234V109.215V109.197V109.178V109.159V109.14V109.121V109.103V109.084V109.065V109.046V109.027V109.009V108.99V108.971V108.952V108.934V108.915V108.896V108.878V108.859V108.84V108.822V108.803V108.784V108.766V108.747V108.729V108.71V108.691V108.673V108.654V108.636V108.618V108.599V108.581V108.562V108.544V108.525V108.507V108.489V108.47V108.452V108.434V108.415V108.397V108.379V108.361V108.343V108.324V108.306V108.288V108.27V108.252V108.234V108.216V108.198V108.18V108.162V108.144V108.126V108.108V108.09V108.073V108.055V108.037V108.019V108.001V107.984V107.966V107.948V107.931V107.913V107.896V107.878V107.861V107.843V107.826V107.808V107.791V107.774V107.756V107.739V107.722V107.705V107.687V107.67V107.653V107.636V107.619V107.602V107.585V107.568V107.551V107.534V107.517V107.5V107.484V107.467V107.45V107.434V107.417V107.4V107.384V107.367V107.351V107.334V107.318V107.302V107.285V107.269V107.253V107.237V107.22V107.204V107.188V107.172V107.156V107.14V107.124V107.109V107.093V107.077V107.061V107.046V107.03V107.014V106.999V106.983V106.968V106.952V106.937V106.922V106.906V106.891V106.876V106.861V106.846V106.831V106.816V106.801V106.786V106.771V106.756V106.742V106.727V106.712V106.698V106.683V106.669V106.654V106.64V106.626V106.611V106.597V106.583V106.569V106.555V106.541V106.527V106.513V106.499V106.485V106.472V106.458V106.444V106.431V106.417V106.404V106.39V106.377V106.364V106.351V106.337V106.324V106.311V106.298V106.285V106.273V106.26V106.247V106.234V106.222V106.209V106.197V106.184V106.172V106.16V106.148V106.135V106.123V106.111V106.099V106.087V106.076V106.064V106.052V106.041V106.029V106.017V106.006V105.995V105.983V105.972V105.961V105.95V105.939V105.928V105.917V105.906V105.895V105.885V105.874V105.864V105.853V105.843V105.832V105.822V105.812V105.802V105.792V105.782V105.772V105.762V105.753V105.743V105.733V105.724V105.714V105.705V105.696V105.687V105.677V105.668V105.659V105.651V105.642V105.633V105.624V105.616V105.607V105.599V105.591V105.582V105.574V105.566V105.558V105.55V105.542V105.535V105.527V105.519V105.512V105.504V105.497V105.49V105.482V105.475V105.468V105.461V105.455V105.448V105.441V105.435V105.428V105.422V105.415V105.409V105.403V105.397V105.391V105.385V105.379V105.374V105.368V105.362V105.357V105.352V105.346V105.341V105.336V105.331V105.326V105.322V105.317V105.312V105.308V105.303V105.299V105.295V105.291V105.287V105.283V105.279V105.275V105.271V105.268V105.264V105.261V105.258V105.255V105.252V105.249V105.246C54.0714 104.274 53.6579 103.568 53.5279 103.351C53.3398 103.038 53.1305 102.78 52.9756 102.602C52.6588 102.239 52.2861 101.889 51.9609 101.602C51.8541 101.507 51.7444 101.412 51.6331 101.318L51.8928 100.481C52.4582 98.6576 51.4594 97.0644 50.2295 96.3832C50.217 96.3733 50.1997 96.3591 50.1775 96.3399C50.0836 96.2588 49.9575 96.137 49.8072 95.9759L50.4181 92.8108C50.7399 91.144 49.8155 89.5703 48.3613 88.9532C46.5233 88.1733 45.7552 87.3607 45.4316 86.87L53.0078 74.6425C53.6868 73.5465 53.7718 72.2296 53.3344 71.0985C51.2613 65.7367 52.0738 60.3672 53.3557 56.7665C54.1083 54.6525 55.1488 52.5746 56.3104 50.3964C62.3774 39.02 74.8986 33.1425 87.5101 33.5359C100.068 33.9276 112.182 40.52 117.548 53.5154C121.341 62.7033 121.479 68.9785 120.084 74.3701C118.918 78.8712 116.704 82.8445 114.011 87.6768C113.295 88.9607 112.546 90.3053 111.773 91.7365C111.721 91.8324 111.67 91.9285 111.62 92.0246C113.948 92.1236 116.204 92.5908 118.319 93.398C118.719 92.6744 119.122 91.9529 119.525 91.232C122.279 86.3052 125.02 81.4036 126.416 76.0093C128.231 68.9959 127.821 61.2587 123.593 51.019ZM48.0507 106.907C48.0506 106.907 48.0485 106.905 48.0445 106.9L48.0449 106.9C48.0489 106.905 48.0507 106.907 48.0507 106.907Z" fill="#4386F5"></path></g></g><path d="M5.96621 82.2094C5.96621 39.6441 40.4722 5.13809 83.0375 5.13809C125.603 5.13809 160.109 39.6441 160.109 82.2094C160.109 124.775 125.603 159.281 83.0375 159.281C40.4722 159.281 5.96621 124.775 5.96621 82.2094Z" stroke="url(#paint1_linear_374_48069)" stroke-width="10.2762"></path><defs><filter id="filter0_i_374_48069" x="96.2227" y="97.4805" width="29.1269" height="45.0343" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dx="0.158119" dy="1.58119"></feOffset><feGaussianBlur stdDeviation="0.853842"></feGaussianBlur><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0.41613 0 0 0 0 0.138967 0 0 0 0 0.138967 0 0 0 0.35 0"></feColorMatrix><feBlend mode="normal" in2="shape" result="effect1_innerShadow_374_48069"></feBlend></filter><filter id="filter1_i_374_48069" x="38.0341" y="26.1219" width="89.4034" height="111.136" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dx="-0.610451" dy="-0.854631"></feOffset><feGaussianBlur stdDeviation="1.55665"></feGaussianBlur><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0.138967 0 0 0 0 0.150054 0 0 0 0 0.41613 0 0 0 0.35 0"></feColorMatrix><feBlend mode="normal" in2="shape" result="effect1_innerShadow_374_48069"></feBlend></filter><linearGradient id="paint0_linear_374_48069" x1="83.0375" y1="0" x2="83.0375" y2="164.419" gradientUnits="userSpaceOnUse"><stop stop-color="#F7FBFF"></stop><stop offset="1" stop-color="#E4EEF8"></stop></linearGradient><linearGradient id="paint1_linear_374_48069" x1="83.0375" y1="0" x2="83.0375" y2="164.419" gradientUnits="userSpaceOnUse"><stop stop-color="#96D3FF"></stop><stop offset="1" stop-color="#8EA6FC"></stop></linearGradient><clipPath id="clip0_374_48069"><path d="M0.828125 82.2094C0.828125 36.8064 37.6345 0 83.0375 0C128.44 0 165.247 36.8064 165.247 82.2094C165.247 127.612 128.44 164.419 83.0375 164.419C37.6345 164.419 0.828125 127.612 0.828125 82.2094Z" fill="white"></path></clipPath></defs>',3)]),2))}},a1=xl("/avatar.png"),c1={class:"flex items-center"},d1={class:"hs-dropdown [--placement:bottom-right] relative inline-flex"},u1={class:"hs-dropdown-menu border border-gray-200 transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-[235px] bg-white shadow-md rounded-lg mt-2 dark:bg-neutral-800 dark:border dark:border-neutral-700 dark:divide-neutral-700 after:h-4 after:absolute after:-bottom-4 after:start-0 after:w-full before:h-4 before:absolute before:-top-4 before:start-0 before:w-full",role:"menu","aria-orientation":"vertical","aria-labelledby":"hs-dropdown-account"},f1={class:"p-1.5 space-y-0.5"},h1={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},p1={class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300",href:"#"},m1={type:"button",class:"size-[38px] relative inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"},g1={__name:"SbProfile",setup(r){return(e,t)=>{const n=kl;return L(),F("div",c1,[m("div",d1,[t[5]||(t[5]=m("button",{id:"hs-dropdown-account",type:"button",class:"rounded-full border border-transparent text-gray-800 focus:outline-none disabled:opacity-50 disabled:pointer-events-none dark:text-white","aria-haspopup":"menu","aria-expanded":"false","aria-label":"Dropdown"},[m("img",{class:"shrink-0 size-[38px] rounded-full",src:a1,alt:"Avatar"})],-1)),m("div",u1,[t[4]||(t[4]=m("div",{class:"border-b border-gray-200 py-3 px-5 bg-gray-50 rounded-t-lg dark:bg-neutral-700"},[m("p",{class:"text-sm text-gray-500 dark:text-neutral-500"},"Signed in as"),m("p",{class:"text-sm font-medium text-gray-800 dark:text-neutral-200"},"jbaltazar@scp.edu")],-1)),m("div",f1,[V(n,{to:"/portal",class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300"},{default:nr(()=>[V(M(nl),{class:"shrink-0 size-4"}),t[0]||(t[0]=A(" App Portal "))]),_:1}),m("a",h1,[V(M(rl),{class:"shrink-0 size-4"}),t[1]||(t[1]=A(" Newsletter "))]),m("a",p1,[V(M(li),{class:"shrink-0 size-4"}),t[2]||(t[2]=A(" Settings "))]),V(n,{to:"/",class:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300"},{default:nr(()=>[V(M(sl),{class:"shrink-0 size-4"}),t[3]||(t[3]=A(" Logout "))]),_:1})])])]),t[7]||(t[7]=m("div",{class:"ms-3 mr-auto"},[m("h3",{class:"font-semibold text-gray-800 dark:text-white"},"Joselito Baltazar"),m("p",{class:"text-sm text-gray-400 dark:text-neutral-500"},"Administrator")],-1)),m("button",m1,[V(M(il),{class:"shrink-0 size-4"}),t[6]||(t[6]=m("span",{class:"sr-only"},"Notifications",-1))])])}}},y1={},x1={id:"hs-application-sidebar",class:"hs-overlay [--auto-close:xl] hs-overlay-open:translate-x-0 -translate-x-full transition-all duration-300 transform w-[256px] h-full hidden fixed inset-y-0 start-0 z-[60] bg-white border-e border-gray-200 xl:block xl:translate-x-0 xl:end-auto xl:bottom-0 dark:bg-neutral-800 dark:border-neutral-700",role:"dialog",tabindex:"-1","aria-label":"Sidebar"},b1={class:"relative flex flex-col h-full max-h-full"},k1={class:"px-3 pt-4"},V1={class:"inline-flex items-center gap-2 focus:outline-none focus:opacity-80",href:"#","aria-label":"Preline"},w1={class:"flex flex-col justify-between h-full overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track] :bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb] :bg-neutral-500"},C1={class:"shrink-0 group block p-3 border-t border-gray-200"};function S1(r,e){const t=l1,n=g1;return L(),F("div",x1,[m("div",b1,[m("div",k1,[m("a",V1,[V(t,{className:"size-16"}),e[0]||(e[0]=m("span",{class:"text-sm text-gray-800 font-medium"},"Learning Management System",-1))])]),m("div",w1,[bl(r.$slots,"menu")]),m("div",C1,[V(n)])])])}const M1=Ft(y1,[["render",S1]]),v1={class:"hs-accordion-group p-3 w-full flex flex-col flex-wrap","data-hs-accordion-always-open":""},T1={class:"flex flex-col space-y-1"},O1={class:"flex items-center gap-x-3.5 py-2 px-2.5 bg-gray-100 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-700 dark:text-white",href:"#"},N1={class:"hs-accordion",id:"users-accordion"},A1={type:"button",class:"hs-accordion-toggle w-full text-start flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:text-neutral-200","aria-expanded":"true","aria-controls":"users-accordion-child"},E1={id:"users-accordion-child",class:"hs-accordion-content w-full overflow-hidden transition-[height] duration-300 hidden",role:"region","aria-labelledby":"users-accordion"},D1={class:"hs-accordion-group ps-4 pt-1 ms-4 space-y-1 border-l","data-hs-accordion-always-open":""},I1={class:"hs-accordion",id:"users-accordion-sub-1"},R1={type:"button",class:"hs-accordion-toggle w-full text-start flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:text-neutral-200","aria-expanded":"true","aria-controls":"users-accordion-sub-1-child"},P1={class:"hs-accordion",id:"users-accordion-sub-2"},B1={type:"button",class:"hs-accordion-toggle w-full text-start flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:text-neutral-200","aria-expanded":"true","aria-controls":"users-accordion-sub-2-child"},z1={class:"hs-accordion",id:"account-accordion"},L1={type:"button",class:"hs-accordion-toggle w-full text-start flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:text-neutral-200","aria-expanded":"true","aria-controls":"account-accordion-child"},$1={class:"hs-accordion",id:"projects-accordion"},F1={type:"button",class:"hs-accordion-toggle w-full text-start flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:text-neutral-200","aria-expanded":"true","aria-controls":"projects-accordion-child"},_1={class:"w-full flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-700 dark:text-neutral-200 dark:hover:text-neutral-300",href:"#"},H1={class:"w-full flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-900 dark:text-neutral-200 dark:hover:text-neutral-300",href:"#"},G1={__name:"dashboard",setup(r){return(e,t)=>{const n=ol,s=o1;return L(),F(rn,null,[V(n),V(M1,null,{menu:nr(()=>[m("nav",v1,[m("ul",T1,[m("li",null,[m("a",O1,[V(M(Nl),{class:"shrink-0 size-4"}),t[0]||(t[0]=A(" Dashboard "))])]),m("li",N1,[m("button",A1,[V(M(jl),{class:"shrink-0 size-4"}),t[1]||(t[1]=A(" Users ")),V(M(Ct),{class:"hs-accordion-active:block ms-auto hidden size-4"}),V(M(at),{class:"hs-accordion-active:hidden ms-auto block size-4"})]),m("div",E1,[m("ul",D1,[m("li",I1,[m("button",R1,[t[2]||(t[2]=A(" Sub Menu 1 ")),V(M(Ct),{class:"hs-accordion-active:block ms-auto hidden size-4"}),V(M(at),{class:"hs-accordion-active:hidden ms-auto block size-4"})]),t[3]||(t[3]=m("div",{id:"users-accordion-sub-1-child",class:"hs-accordion-content w-full overflow-hidden transition-[height] duration-300 hidden",role:"region","aria-labelledby":"users-accordion-sub-1"},[m("ul",{class:"ps-4 pt-1 ms-4 space-y-1 border-l"},[m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 1 ")]),m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 2 ")]),m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 3 ")])])],-1))]),m("li",P1,[m("button",B1,[t[4]||(t[4]=A(" Sub Menu 2 ")),V(M(Ct),{class:"hs-accordion-active:block ms-auto hidden size-4"}),V(M(at),{class:"hs-accordion-active:hidden ms-auto block size-4"})]),t[5]||(t[5]=m("div",{id:"users-accordion-sub-2-child",class:"hs-accordion-content w-full overflow-hidden transition-[height] duration-300 hidden",role:"region","aria-labelledby":"users-accordion-sub-2"},[m("ul",{class:"ps-4 pt-1 ms-4 space-y-1 border-l"},[m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 1 ")]),m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 2 ")]),m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 3 ")])])],-1))])])])]),m("li",z1,[m("button",L1,[V(M(Hl),{class:"shrink-0 size-4"}),t[6]||(t[6]=A(" Account ")),V(M(Ct),{class:"hs-accordion-active:block ms-auto hidden size-4"}),V(M(at),{class:"hs-accordion-active:hidden ms-auto block size-4"})]),t[7]||(t[7]=m("div",{id:"account-accordion-child",class:"hs-accordion-content w-full overflow-hidden transition-[height] duration-300 hidden",role:"region","aria-labelledby":"account-accordion"},[m("ul",{class:"ps-4 pt-1 ms-4 space-y-1 border-l"},[m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 1 ")]),m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 2 ")]),m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 3 ")])])],-1))]),m("li",$1,[m("button",F1,[V(M(Cl),{class:"shrink-0 size-4"}),t[8]||(t[8]=A(" Projects ")),V(M(Ct),{class:"hs-accordion-active:block ms-auto hidden size-4"}),V(M(at),{class:"hs-accordion-active:hidden ms-auto block size-4"})]),t[9]||(t[9]=m("div",{id:"projects-accordion-child",class:"hs-accordion-content w-full overflow-hidden transition-[height] duration-300 hidden",role:"region","aria-labelledby":"projects-accordion"},[m("ul",{class:"ps-4 pt-1 ms-4 space-y-1 border-l"},[m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 1 ")]),m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 2 ")]),m("li",null,[m("a",{class:"flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:text-neutral-200",href:"#"}," Link 3 ")])])],-1))]),m("li",null,[m("a",_1,[V(M(Sl),{class:"shrink-0 size-4"}),t[10]||(t[10]=A(" Calendar "))])]),m("li",null,[m("a",H1,[V(M(wl),{class:"shrink-0 size-4"}),t[11]||(t[11]=A(" Documentation "))])])])])]),_:1}),V(s)],64)}}};export{G1 as default};
